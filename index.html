<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToxicNavi - ä¸­æ¯’è¨ºç™‚æ”¯æ´ãƒ„ãƒ¼ãƒ« ver.2.0.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: { 50:'#f0f9ff', 100:'#e0f2fe', 200:'#bae6fd', 500:'#0ea5e9', 600:'#0284c7', 700:'#0369a1', 800:'#075985', 900:'#0c4a6e' }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700;900&display=swap');
        body { font-family: 'Noto Sans JP', sans-serif; }

        /* Severity cards */
        .sev-critical { border-left: 5px solid #dc2626; background: linear-gradient(135deg, #fef2f2 0%, #fff 100%); }
        .sev-high     { border-left: 5px solid #f97316; background: linear-gradient(135deg, #fff7ed 0%, #fff 100%); }
        .sev-moderate { border-left: 5px solid #eab308; background: linear-gradient(135deg, #fefce8 0%, #fff 100%); }
        .sev-low      { border-left: 5px solid #22c55e; background: linear-gradient(135deg, #f0fdf4 0%, #fff 100%); }
        .sev-unknown  { border-left: 5px solid #94a3b8; background: linear-gradient(135deg, #f8fafc 0%, #fff 100%); }

        /* Autocomplete */
        .ac-dropdown { max-height: 300px; overflow-y: auto; }
        .ac-item:hover, .ac-item.active { background-color: #e0f2fe; }

        /* Treatment verdict badges */
        .verdict-recommended { background: #dcfce7; color: #166534; border: 1px solid #86efac; }
        .verdict-consider    { background: #fef9c3; color: #854d0e; border: 1px solid #fde047; }
        .verdict-not-recommended { background: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .verdict-contraindicated { background: #1e1b4b; color: #e0e7ff; border: 1px solid #6366f1; }

        /* Symptom match highlight */
        .symptom-match { background: #fef3c7; border: 1px solid #f59e0b; }

        /* Print styles */
        @media print {
            header, .no-print { display: none !important; }
            body { font-size: 10pt; }
            .container { max-width: 100% !important; }
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 3px; }

        /* Step indicator */
        .step-badge {
            display: inline-flex; align-items: center; justify-content: center;
            width: 28px; height: 28px; border-radius: 50%;
            background: #0c4a6e; color: white; font-weight: 700; font-size: 14px;
            flex-shrink: 0;
        }

        /* Animation */
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

        /* Tooltip */
        .tooltip-trigger { position: relative; cursor: help; border-bottom: 1px dotted #94a3b8; }
        .tooltip-trigger:hover::after {
            content: attr(data-tip); position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
            background: #1e293b; color: #fff; padding: 4px 10px; border-radius: 6px;
            font-size: 12px; white-space: nowrap; z-index: 50;
        }
    </style>
</head>
<body class="bg-gray-50 text-slate-800 min-h-screen">

    <!-- ===== HEADER ===== -->
    <header class="bg-gradient-to-r from-slate-900 via-slate-800 to-brand-900 text-white shadow-xl sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center max-w-5xl">
            <div class="flex items-center gap-3">
                <div class="text-3xl">ğŸ§ª</div>
                <div>
                    <h1 class="text-xl font-black tracking-tight">ToxicNavi</h1>
                    <p class="text-xs text-brand-200 font-light">ä¸­æ¯’è¨ºç™‚æ”¯æ´ãƒ„ãƒ¼ãƒ« v2.0</p>
                </div>
            </div>
            <div class="flex items-center gap-4 text-sm">
                <button onclick="app.resetAll()" class="no-print bg-red-500/20 hover:bg-red-500/40 text-red-200 px-3 py-1.5 rounded-lg text-xs font-bold transition">
                    å…¨ãƒªã‚»ãƒƒãƒˆ
                </button>
                <button onclick="window.print()" class="no-print bg-white/10 hover:bg-white/20 px-3 py-1.5 rounded-lg text-xs font-bold transition">
                    ğŸ–¨ å°åˆ·
                </button>
            </div>
        </div>
    </header>

    <!-- ===== DISCLAIMER ===== -->
    <div class="bg-amber-50 border-b border-amber-200 py-2 text-center text-xs text-amber-800 no-print">
        âš  æœ¬ãƒ„ãƒ¼ãƒ«ã¯è¨ºç™‚æ”¯æ´ç”¨ã§ã‚ã‚Šã€æœ€çµ‚åˆ¤æ–­ã¯å¿…ãšè‡¨åºŠåŒ»ãŒè¡Œã£ã¦ãã ã•ã„ã€‚ä¸­æ¯’æƒ…å ±ã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆã¤ãã°: 029-852-9999 / å¤§é˜ª: 072-727-2499ï¼‰ã¸ã®ç›¸è«‡ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
    </div>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="container mx-auto px-4 py-6 max-w-5xl space-y-6">

        <!-- STEP 0: Patient Info -->
        <section class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 fade-in">
            <div class="flex items-center gap-3 mb-4">
                <span class="step-badge">0</span>
                <h2 class="text-lg font-bold">æ‚£è€…æƒ…å ±</h2>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div>
                    <label class="block text-xs font-bold text-slate-500 mb-1">ä½“é‡ (kg)</label>
                    <input type="number" id="patientWeight" value="60" min="1" max="300"
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 text-lg font-bold focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none"
                        onchange="app.updatePatientInfo()">
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 mb-1">å¹´é½¢</label>
                    <input type="number" id="patientAge" value="40" min="0" max="120"
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 text-lg font-bold focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none"
                        onchange="app.updatePatientInfo()">
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 mb-1">æ‘‚å–ã‹ã‚‰ã®çµŒéæ™‚é–“</label>
                    <div class="flex gap-1">
                        <input type="number" id="hoursElapsed" value="1" min="0" max="999"
                            class="w-full border border-slate-300 rounded-lg px-3 py-2 text-lg font-bold focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none"
                            onchange="app.updatePatientInfo()">
                        <span class="self-center text-sm font-bold text-slate-500">æ™‚é–“</span>
                    </div>
                </div>
                <div>
                    <label class="block text-xs font-bold text-slate-500 mb-1">æ‘‚å–çŠ¶æ³</label>
                    <select id="ingestionType"
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm font-bold focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none"
                        onchange="app.updatePatientInfo()">
                        <option value="acute">æ€¥æ€§ï¼ˆä¸€åº¦ã«å¤§é‡ï¼‰</option>
                        <option value="staggered">æ®µéšçš„ï¼ˆè¤‡æ•°å›ï¼‰</option>
                        <option value="chronic">æ…¢æ€§çš„éé‡</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- STEP 1: Drug Input -->
        <section class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 fade-in">
            <div class="flex items-center gap-3 mb-4">
                <span class="step-badge">1</span>
                <h2 class="text-lg font-bold">è–¬å‰¤åã®å…¥åŠ›ãƒ»æ¤œç´¢</h2>
                <span class="text-xs text-slate-400">å•†å“å or æˆåˆ†åã§æ¤œç´¢</span>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-12 gap-3 items-end">
                <!-- Drug Search -->
                <div class="md:col-span-5 relative">
                    <label class="block text-xs font-bold text-slate-500 mb-1">è–¬å‰¤å</label>
                    <input type="text" id="drugSearch" placeholder="ä¾‹: ã‚«ãƒ­ãƒŠãƒ¼ãƒ«, ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³..."
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none"
                        oninput="app.onSearchInput(this.value)"
                        onkeydown="app.onSearchKeydown(event)"
                        onfocus="app.onSearchInput(this.value)"
                        autocomplete="off">
                    <div id="acDropdown" class="hidden absolute z-40 w-full bg-white border border-slate-200 rounded-lg shadow-xl mt-1 ac-dropdown"></div>
                </div>
                <!-- Amount -->
                <div class="md:col-span-2">
                    <label class="block text-xs font-bold text-slate-500 mb-1">æ•°é‡</label>
                    <input type="number" id="amountInput" placeholder="æ•°é‡" min="0" step="any"
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none">
                </div>
                <!-- Unit -->
                <div class="md:col-span-2">
                    <label class="block text-xs font-bold text-slate-500 mb-1">å˜ä½</label>
                    <select id="unitSelect"
                        class="w-full border border-slate-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none">
                        <option value="tablets">éŒ /åŒ…/æœ¬</option>
                        <option value="mg">mg</option>
                        <option value="ml">mL</option>
                    </select>
                </div>
                <!-- Add Button -->
                <div class="md:col-span-3">
                    <button onclick="app.addDrug()"
                        class="w-full bg-brand-600 hover:bg-brand-700 text-white font-bold py-2 px-4 rounded-lg transition shadow-sm flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                        ãƒªã‚¹ãƒˆã«è¿½åŠ 
                    </button>
                </div>
            </div>
            <div id="selectedDrugInfo" class="mt-3 text-sm text-slate-500 hidden"></div>
        </section>

        <!-- STEP 2: Drug List (auto-sorted by severity) -->
        <section class="fade-in">
            <div class="flex items-center gap-3 mb-4">
                <span class="step-badge">2</span>
                <h2 class="text-lg font-bold">æ‘‚å–è–¬å‰¤ãƒªã‚¹ãƒˆ</h2>
                <span class="text-xs text-slate-400">é‡ç—‡åº¦é †ã«è‡ªå‹•ã‚½ãƒ¼ãƒˆ</span>
            </div>
            <div id="drugListContainer">
                <div class="bg-white rounded-2xl border border-dashed border-slate-300 p-10 text-center text-slate-400">
                    <p class="text-4xl mb-2">ğŸ’Š</p>
                    <p>è–¬å‰¤ã‚’å…¥åŠ›ã—ã¦ã€Œãƒªã‚¹ãƒˆã«è¿½åŠ ã€ã—ã¦ãã ã•ã„</p>
                </div>
            </div>
        </section>

        <!-- STEP 3: Symptom Check -->
        <section id="symptomSection" class="hidden fade-in">
            <div class="flex items-center gap-3 mb-4">
                <span class="step-badge">3</span>
                <h2 class="text-lg font-bold">æ‚£è€…ç—‡çŠ¶ã®ç…§åˆ</h2>
                <span class="text-xs text-slate-400">ç¾åœ¨ã®ç—‡çŠ¶ã«ãƒã‚§ãƒƒã‚¯ â†’ è–¬å‰¤ã¨ã®é–¢é€£ã‚’è¡¨ç¤º</span>
            </div>
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                <div id="symptomChecklist" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2"></div>
                <div id="symptomMatchResult" class="mt-4 hidden"></div>
            </div>
        </section>

        <!-- STEP 4: Treatment Evaluation Matrix -->
        <section id="treatmentSection" class="hidden fade-in">
            <div class="flex items-center gap-3 mb-4">
                <span class="step-badge">4</span>
                <h2 class="text-lg font-bold text-red-700">æ²»ç™‚å¦¥å½“æ€§ã®æ¤œè¨¼</h2>
                <span class="text-xs text-slate-400">å„æˆåˆ†ã«å¯¾ã™ã‚‹æ²»ç™‚æˆ¦ç•¥</span>
            </div>
            <div id="treatmentContainer" class="space-y-6"></div>
        </section>

        <!-- STEP 5: Summary -->
        <section id="summarySection" class="hidden fade-in">
            <div class="flex items-center gap-3 mb-4">
                <span class="step-badge">5</span>
                <h2 class="text-lg font-bold">ç·åˆã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆ</h2>
            </div>
            <div id="summaryContainer" class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6"></div>
        </section>

    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="bg-slate-100 border-t border-slate-200 py-6 mt-12 text-center text-xs text-slate-400 no-print">
        <p>ToxicNavi v2.0 - ä¸­æ¯’è¨ºç™‚æ”¯æ´ãƒ„ãƒ¼ãƒ« | åŒ»ç™‚å¾“äº‹è€…å°‚ç”¨ | å…è²¬: æœ¬ãƒ„ãƒ¼ãƒ«ã®æƒ…å ±ã«ã‚ˆã‚‹æå®³ã«ã¤ã„ã¦ä¸€åˆ‡è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“</p>
        <p class="mt-1">å‚è€ƒæ–‡çŒ®: æ—¥æœ¬ä¸­æ¯’æƒ…å ±ã‚»ãƒ³ã‚¿ãƒ¼, UpToDate, Goldfrank's Toxicologic Emergencies</p>
    </footer>

    <!-- ===== APPLICATION LOGIC ===== -->
    <script>
    // ===========================================================================
    //  DATABASE: å•†å“å â†’ æˆåˆ† â†’ æ¯’æ€§æƒ…å ±
    // ===========================================================================

    const DB = {
        // -----------------------------------------------------------------------
        //  å•†å“å â†’ æˆåˆ†ãƒãƒƒãƒ”ãƒ³ã‚°
        //  perUnit: 1éŒ (åŒ…/æœ¬)ã‚ãŸã‚Šã®mg, mgPerMl: æ¶²å‰¤ã®mg/mL
        // -----------------------------------------------------------------------
        products: {
            // --- è§£ç†±é®ç—›è–¬ ---
            "ã‚«ãƒ­ãƒŠãƒ¼ãƒ«200": { category: "è§£ç†±é®ç—›è–¬", ingredients: [{ name: "ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³", perUnit: 200 }] },
            "ã‚«ãƒ­ãƒŠãƒ¼ãƒ«300": { category: "è§£ç†±é®ç—›è–¬", ingredients: [{ name: "ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³", perUnit: 300 }] },
            "ã‚«ãƒ­ãƒŠãƒ¼ãƒ«500": { category: "è§£ç†±é®ç—›è–¬", ingredients: [{ name: "ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³", perUnit: 500 }] },
            "ã‚¿ã‚¤ãƒ¬ãƒãƒ¼ãƒ«A": { category: "è§£ç†±é®ç—›è–¬(OTC)", ingredients: [{ name: "ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³", perUnit: 300 }] },
            "ãƒ­ã‚­ã‚½ãƒ‹ãƒ³": { category: "è§£ç†±é®ç—›è–¬", ingredients: [{ name: "ãƒ­ã‚­ã‚½ãƒ—ãƒ­ãƒ•ã‚§ãƒ³", perUnit: 60 }] },
            "ãƒ–ãƒ«ãƒ•ã‚§ãƒ³200": { category: "è§£ç†±é®ç—›è–¬", ingredients: [{ name: "ã‚¤ãƒ–ãƒ—ãƒ­ãƒ•ã‚§ãƒ³", perUnit: 200 }] },
            "ãƒãƒ•ã‚¡ãƒªãƒ³A": { category: "è§£ç†±é®ç—›è–¬(OTC)", ingredients: [{ name: "ã‚¢ã‚¹ãƒ”ãƒªãƒ³", perUnit: 330 }] },
            "ãƒœãƒ«ã‚¿ãƒ¬ãƒ³25": { category: "è§£ç†±é®ç—›è–¬", ingredients: [{ name: "ã‚¸ã‚¯ãƒ­ãƒ•ã‚§ãƒŠã‚¯", perUnit: 25 }] },
            "ãƒœãƒ«ã‚¿ãƒ¬ãƒ³50": { category: "è§£ç†±é®ç—›è–¬", ingredients: [{ name: "ã‚¸ã‚¯ãƒ­ãƒ•ã‚§ãƒŠã‚¯", perUnit: 50 }] },

            // --- OTCé…åˆè–¬ ---
            "EVEã‚¯ã‚¤ãƒƒã‚¯": { category: "è§£ç†±é®ç—›è–¬(OTC)", ingredients: [
                { name: "ã‚¤ãƒ–ãƒ—ãƒ­ãƒ•ã‚§ãƒ³", perUnit: 150 },
                { name: "ã‚¢ãƒªãƒ«ã‚¤ã‚½ãƒ—ãƒ­ãƒ”ãƒ«ã‚¢ã‚»ãƒãƒ«å°¿ç´ ", perUnit: 60 }
            ]},
            "ãƒãƒ•ã‚¡ãƒªãƒ³ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ": { category: "è§£ç†±é®ç—›è–¬(OTC)", note: "2éŒ ã‚ãŸã‚Š", ingredients: [
                { name: "ã‚¤ãƒ–ãƒ—ãƒ­ãƒ•ã‚§ãƒ³", perUnit: 130 },
                { name: "ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³", perUnit: 130 }
            ]},
            "ãƒ‘ãƒ–ãƒ­ãƒ³ã‚´ãƒ¼ãƒ«ãƒ‰A": { category: "ç·åˆæ„Ÿå†’è–¬(OTC)", note: "1éŒ ã‚ãŸã‚Š", ingredients: [
                { name: "ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³", perUnit: 100 },
                { name: "ã‚¸ãƒ’ãƒ‰ãƒ­ã‚³ãƒ‡ã‚¤ãƒ³", perUnit: 2.67 },
                { name: "dl-ãƒ¡ãƒãƒ«ã‚¨ãƒ•ã‚§ãƒ‰ãƒªãƒ³", perUnit: 6.67 },
                { name: "ã‚¯ãƒ­ãƒ«ãƒ•ã‚§ãƒ‹ãƒ©ãƒŸãƒ³", perUnit: 0.83 }
            ]},
            "ãƒ–ãƒ­ãƒ³éŒ ": { category: "é®å’³è–¬(OTC)", note: "1éŒ ã‚ãŸã‚Š", ingredients: [
                { name: "ã‚¸ãƒ’ãƒ‰ãƒ­ã‚³ãƒ‡ã‚¤ãƒ³", perUnit: 2.5 },
                { name: "dl-ãƒ¡ãƒãƒ«ã‚¨ãƒ•ã‚§ãƒ‰ãƒªãƒ³", perUnit: 6.25 },
                { name: "ã‚¯ãƒ­ãƒ«ãƒ•ã‚§ãƒ‹ãƒ©ãƒŸãƒ³", perUnit: 0.5 }
            ]},
            "ã‚¦ãƒƒãƒˆ": { category: "é®é™è–¬(OTC)", note: "3éŒ ã‚ãŸã‚Š", ingredients: [
                { name: "ãƒ–ãƒ­ãƒ¢ãƒãƒ¬ãƒªãƒ«å°¿ç´ ", perUnit: 83.3 },
                { name: "ã‚¢ãƒªãƒ«ã‚¤ã‚½ãƒ—ãƒ­ãƒ”ãƒ«ã‚¢ã‚»ãƒãƒ«å°¿ç´ ", perUnit: 50 }
            ]},

            // --- ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³» ---
            "ãƒ‡ãƒ‘ã‚¹0.5mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¨ãƒã‚¾ãƒ©ãƒ ", perUnit: 0.5 }] },
            "ãƒ‡ãƒ‘ã‚¹1mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¨ãƒã‚¾ãƒ©ãƒ ", perUnit: 1 }] },
            "ã‚»ãƒ«ã‚·ãƒ³2mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¸ã‚¢ã‚¼ãƒ‘ãƒ ", perUnit: 2 }] },
            "ã‚»ãƒ«ã‚·ãƒ³5mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¸ã‚¢ã‚¼ãƒ‘ãƒ ", perUnit: 5 }] },
            "ã‚»ãƒ«ã‚·ãƒ³10mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¸ã‚¢ã‚¼ãƒ‘ãƒ ", perUnit: 10 }] },
            "ãƒ›ãƒªã‚¾ãƒ³": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¸ã‚¢ã‚¼ãƒ‘ãƒ ", perUnit: 2 }] },
            "ãƒãƒ«ã‚·ã‚ªãƒ³0.25mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒˆãƒªã‚¢ã‚¾ãƒ©ãƒ ", perUnit: 0.25 }] },
            "ãƒã‚¤ã‚¹ãƒªãƒ¼5mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ã‚¾ãƒ«ãƒ”ãƒ‡ãƒ ", perUnit: 5 }] },
            "ãƒã‚¤ã‚¹ãƒªãƒ¼10mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ã‚¾ãƒ«ãƒ”ãƒ‡ãƒ ", perUnit: 10 }] },
            "ã‚µã‚¤ãƒ¬ãƒ¼ã‚¹1mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒ•ãƒ«ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 1 }] },
            "ã‚µã‚¤ãƒ¬ãƒ¼ã‚¹2mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒ•ãƒ«ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 2 }] },
            "ãƒ­ãƒ’ãƒ—ãƒãƒ¼ãƒ«": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒ•ãƒ«ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 1 }] },
            "ãƒ¬ãƒ³ãƒ‰ãƒ«ãƒŸãƒ³0.25mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒ–ãƒ­ãƒã‚¾ãƒ©ãƒ ", perUnit: 0.25 }] },
            "ãƒ™ãƒ³ã‚¶ãƒªãƒ³5mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 5 }] },
            "ãƒ™ãƒ³ã‚¶ãƒªãƒ³10mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 10 }] },
            "ãƒãƒ«ãƒœãƒ³": { category: "ç¡çœ è–¬", ingredients: [{ name: "ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 5 }] },
            "ãƒªãƒœãƒˆãƒªãƒ¼ãƒ«0.5mg": { category: "æŠ—ã¦ã‚“ã‹ã‚“è–¬", ingredients: [{ name: "ã‚¯ãƒ­ãƒŠã‚¼ãƒ‘ãƒ ", perUnit: 0.5 }] },
            "ãƒªãƒœãƒˆãƒªãƒ¼ãƒ«1mg": { category: "æŠ—ã¦ã‚“ã‹ã‚“è–¬", ingredients: [{ name: "ã‚¯ãƒ­ãƒŠã‚¼ãƒ‘ãƒ ", perUnit: 1 }] },
            "ãƒ¯ã‚¤ãƒ‘ãƒƒã‚¯ã‚¹0.5mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ãƒ­ãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 0.5 }] },
            "ãƒ¯ã‚¤ãƒ‘ãƒƒã‚¯ã‚¹1mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ãƒ­ãƒ©ã‚¼ãƒ‘ãƒ ", perUnit: 1 }] },
            "ã‚½ãƒ©ãƒŠãƒƒã‚¯ã‚¹0.4mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¢ãƒ«ãƒ—ãƒ©ã‚¾ãƒ©ãƒ ", perUnit: 0.4 }] },
            "ã‚½ãƒ©ãƒŠãƒƒã‚¯ã‚¹0.8mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ã‚¢ãƒ«ãƒ—ãƒ©ã‚¾ãƒ©ãƒ ", perUnit: 0.8 }] },
            "ãƒ¡ã‚¤ãƒ©ãƒƒã‚¯ã‚¹1mg": { category: "æŠ—ä¸å®‰è–¬", ingredients: [{ name: "ãƒ­ãƒ•ãƒ©ã‚¼ãƒ—é…¸ã‚¨ãƒãƒ«", perUnit: 1 }] },

            // --- éãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»ç¡çœ è–¬ ---
            "ãƒ«ãƒã‚¹ã‚¿1mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ã‚¨ã‚¹ã‚¾ãƒ”ã‚¯ãƒ­ãƒ³", perUnit: 1 }] },
            "ãƒ«ãƒã‚¹ã‚¿2mg": { category: "ç¡çœ è–¬", ingredients: [{ name: "ã‚¨ã‚¹ã‚¾ãƒ”ã‚¯ãƒ­ãƒ³", perUnit: 2 }] },

            // --- æŠ—ç²¾ç¥ç—…è–¬ ---
            "ã‚»ãƒ­ã‚¯ã‚¨ãƒ«25mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚¯ã‚¨ãƒã‚¢ãƒ”ãƒ³", perUnit: 25 }] },
            "ã‚»ãƒ­ã‚¯ã‚¨ãƒ«100mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚¯ã‚¨ãƒã‚¢ãƒ”ãƒ³", perUnit: 100 }] },
            "ã‚»ãƒ­ã‚¯ã‚¨ãƒ«200mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚¯ã‚¨ãƒã‚¢ãƒ”ãƒ³", perUnit: 200 }] },
            "ã‚¸ãƒ—ãƒ¬ã‚­ã‚µ2.5mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚ªãƒ©ãƒ³ã‚¶ãƒ”ãƒ³", perUnit: 2.5 }] },
            "ã‚¸ãƒ—ãƒ¬ã‚­ã‚µ5mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚ªãƒ©ãƒ³ã‚¶ãƒ”ãƒ³", perUnit: 5 }] },
            "ã‚¸ãƒ—ãƒ¬ã‚­ã‚µ10mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚ªãƒ©ãƒ³ã‚¶ãƒ”ãƒ³", perUnit: 10 }] },
            "ãƒªã‚¹ãƒ‘ãƒ€ãƒ¼ãƒ«1mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ãƒªã‚¹ãƒšãƒªãƒ‰ãƒ³", perUnit: 1 }] },
            "ãƒªã‚¹ãƒ‘ãƒ€ãƒ¼ãƒ«2mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ãƒªã‚¹ãƒšãƒªãƒ‰ãƒ³", perUnit: 2 }] },
            "ã‚¨ãƒ“ãƒªãƒ•ã‚¡ã‚¤3mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚¢ãƒªãƒ”ãƒ—ãƒ©ã‚¾ãƒ¼ãƒ«", perUnit: 3 }] },
            "ã‚¨ãƒ“ãƒªãƒ•ã‚¡ã‚¤6mg": { category: "æŠ—ç²¾ç¥ç—…è–¬", ingredients: [{ name: "ã‚¢ãƒªãƒ”ãƒ—ãƒ©ã‚¾ãƒ¼ãƒ«", perUnit: 6 }] },

            // --- æŠ—ã¦ã‚“ã‹ã‚“è–¬ ---
            "ãƒ†ã‚°ãƒ¬ãƒˆãƒ¼ãƒ«200mg": { category: "æŠ—ã¦ã‚“ã‹ã‚“è–¬", ingredients: [{ name: "ã‚«ãƒ«ãƒãƒã‚¼ãƒ”ãƒ³", perUnit: 200 }] },
            "ãƒ‡ãƒ‘ã‚±ãƒ³200mg": { category: "æŠ—ã¦ã‚“ã‹ã‚“è–¬", ingredients: [{ name: "ãƒãƒ«ãƒ—ãƒ­é…¸", perUnit: 200 }] },
            "ãƒ‡ãƒ‘ã‚±ãƒ³R200mg": { category: "æŠ—ã¦ã‚“ã‹ã‚“è–¬", ingredients: [{ name: "ãƒãƒ«ãƒ—ãƒ­é…¸", perUnit: 200 }] },
            "ã‚¢ãƒ¬ãƒ“ã‚¢ãƒãƒ³100mg": { category: "æŠ—ã¦ã‚“ã‹ã‚“è–¬", ingredients: [{ name: "ãƒ•ã‚§ãƒ‹ãƒˆã‚¤ãƒ³", perUnit: 100 }] },
            "ãƒ©ãƒŸã‚¯ã‚¿ãƒ¼ãƒ«25mg": { category: "æŠ—ã¦ã‚“ã‹ã‚“è–¬", ingredients: [{ name: "ãƒ©ãƒ¢ãƒˆãƒªã‚®ãƒ³", perUnit: 25 }] },

            // --- æŠ—ã†ã¤è–¬ ---
            "ãƒˆãƒªãƒ—ã‚¿ãƒãƒ¼ãƒ«10mg": { category: "ä¸‰ç’°ç³»æŠ—ã†ã¤è–¬", ingredients: [{ name: "ã‚¢ãƒŸãƒˆãƒªãƒ—ãƒãƒªãƒ³", perUnit: 10 }] },
            "ãƒˆãƒªãƒ—ã‚¿ãƒãƒ¼ãƒ«25mg": { category: "ä¸‰ç’°ç³»æŠ—ã†ã¤è–¬", ingredients: [{ name: "ã‚¢ãƒŸãƒˆãƒªãƒ—ãƒãƒªãƒ³", perUnit: 25 }] },
            "ãƒˆãƒ•ãƒ©ãƒ‹ãƒ¼ãƒ«10mg": { category: "ä¸‰ç’°ç³»æŠ—ã†ã¤è–¬", ingredients: [{ name: "ã‚¤ãƒŸãƒ—ãƒ©ãƒŸãƒ³", perUnit: 10 }] },
            "ãƒˆãƒ•ãƒ©ãƒ‹ãƒ¼ãƒ«25mg": { category: "ä¸‰ç’°ç³»æŠ—ã†ã¤è–¬", ingredients: [{ name: "ã‚¤ãƒŸãƒ—ãƒ©ãƒŸãƒ³", perUnit: 25 }] },
            "ãƒ‘ã‚­ã‚·ãƒ«10mg": { category: "SSRI", ingredients: [{ name: "ãƒ‘ãƒ­ã‚­ã‚»ãƒãƒ³", perUnit: 10 }] },
            "ãƒ‘ã‚­ã‚·ãƒ«20mg": { category: "SSRI", ingredients: [{ name: "ãƒ‘ãƒ­ã‚­ã‚»ãƒãƒ³", perUnit: 20 }] },
            "ã‚¸ã‚§ã‚¤ã‚¾ãƒ­ãƒ•ãƒˆ25mg": { category: "SSRI", ingredients: [{ name: "ã‚»ãƒ«ãƒˆãƒ©ãƒªãƒ³", perUnit: 25 }] },
            "ã‚¸ã‚§ã‚¤ã‚¾ãƒ­ãƒ•ãƒˆ50mg": { category: "SSRI", ingredients: [{ name: "ã‚»ãƒ«ãƒˆãƒ©ãƒªãƒ³", perUnit: 50 }] },
            "ãƒ¬ã‚¯ã‚µãƒ—ãƒ­10mg": { category: "SSRI", ingredients: [{ name: "ã‚¨ã‚¹ã‚·ã‚¿ãƒ­ãƒ—ãƒ©ãƒ ", perUnit: 10 }] },
            "ã‚µã‚¤ãƒ³ãƒãƒ«ã‚¿20mg": { category: "SNRI", ingredients: [{ name: "ãƒ‡ãƒ¥ãƒ­ã‚­ã‚»ãƒãƒ³", perUnit: 20 }] },
            "ã‚µã‚¤ãƒ³ãƒãƒ«ã‚¿30mg": { category: "SNRI", ingredients: [{ name: "ãƒ‡ãƒ¥ãƒ­ã‚­ã‚»ãƒãƒ³", perUnit: 30 }] },

            // --- æ°—åˆ†å®‰å®šè–¬ ---
            "ãƒªãƒ¼ãƒã‚¹200mg": { category: "æ°—åˆ†å®‰å®šè–¬", ingredients: [{ name: "ç‚­é…¸ãƒªãƒã‚¦ãƒ ", perUnit: 200 }] },

            // --- å¾ªç’°å™¨è–¬ ---
            "ã‚¸ã‚´ã‚·ãƒ³0.25mg": { category: "å¼·å¿ƒè–¬", ingredients: [{ name: "ã‚¸ã‚´ã‚­ã‚·ãƒ³", perUnit: 0.25 }] },
            "ã‚¤ãƒ³ãƒ‡ãƒ©ãƒ«10mg": { category: "Î²é®æ–­è–¬", ingredients: [{ name: "ãƒ—ãƒ­ãƒ—ãƒ©ãƒãƒ­ãƒ¼ãƒ«", perUnit: 10 }] },
            "ãƒ†ãƒãƒ¼ãƒŸãƒ³25mg": { category: "Î²é®æ–­è–¬", ingredients: [{ name: "ã‚¢ãƒ†ãƒãƒ­ãƒ¼ãƒ«", perUnit: 25 }] },
            "ãƒ†ãƒãƒ¼ãƒŸãƒ³50mg": { category: "Î²é®æ–­è–¬", ingredients: [{ name: "ã‚¢ãƒ†ãƒãƒ­ãƒ¼ãƒ«", perUnit: 50 }] },
            "ãƒãƒ«ãƒã‚¹ã‚¯5mg": { category: "Caæ‹®æŠ—è–¬", ingredients: [{ name: "ã‚¢ãƒ ãƒ­ã‚¸ãƒ”ãƒ³", perUnit: 5 }] },
            "ãƒãƒ«ãƒã‚¹ã‚¯10mg": { category: "Caæ‹®æŠ—è–¬", ingredients: [{ name: "ã‚¢ãƒ ãƒ­ã‚¸ãƒ”ãƒ³", perUnit: 10 }] },
            "ã‚¢ãƒ€ãƒ©ãƒ¼ãƒˆCR20mg": { category: "Caæ‹®æŠ—è–¬", ingredients: [{ name: "ãƒ‹ãƒ•ã‚§ã‚¸ãƒ”ãƒ³", perUnit: 20 }] },

            // --- ç³–å°¿ç—…è–¬ ---
            "ã‚¢ãƒãƒªãƒ¼ãƒ«1mg": { category: "SUè–¬", ingredients: [{ name: "ã‚°ãƒªãƒ¡ãƒ”ãƒªãƒ‰", perUnit: 1 }] },
            "ã‚¢ãƒãƒªãƒ¼ãƒ«3mg": { category: "SUè–¬", ingredients: [{ name: "ã‚°ãƒªãƒ¡ãƒ”ãƒªãƒ‰", perUnit: 3 }] },
            "ãƒ¡ãƒˆã‚°ãƒ«ã‚³250mg": { category: "ãƒ“ã‚°ã‚¢ãƒŠã‚¤ãƒ‰", ingredients: [{ name: "ãƒ¡ãƒˆãƒ›ãƒ«ãƒŸãƒ³", perUnit: 250 }] },
            "ãƒ¡ãƒˆã‚°ãƒ«ã‚³500mg": { category: "ãƒ“ã‚°ã‚¢ãƒŠã‚¤ãƒ‰", ingredients: [{ name: "ãƒ¡ãƒˆãƒ›ãƒ«ãƒŸãƒ³", perUnit: 500 }] },

            // --- ãã®ä»– ---
            "ãƒ†ã‚ªãƒ‰ãƒ¼ãƒ«200mg": { category: "æ°—ç®¡æ”¯æ‹¡å¼µè–¬", ingredients: [{ name: "ãƒ†ã‚ªãƒ•ã‚£ãƒªãƒ³", perUnit: 200 }] },
            "ã‚«ãƒ•ã‚§ã‚¤ãƒ³éŒ 200mg": { category: "ãã®ä»–", ingredients: [{ name: "ã‚«ãƒ•ã‚§ã‚¤ãƒ³", perUnit: 200 }] },
            "ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯(1æœ¬)": { category: "ãã®ä»–", ingredients: [{ name: "ã‚«ãƒ•ã‚§ã‚¤ãƒ³", perUnit: 150 }] },
        },

        // -----------------------------------------------------------------------
        //  æˆåˆ† â†’ æ¯’æ€§æƒ…å ±
        //  toxicDose: mg/kg (ä¸­æ¯’é‡), lethalDose: mg/kg (è‡´æ­»é‡æ¦‚ç®—)
        //  severityThresholds: [è»½ç—‡, ä¸­ç­‰ç—‡, é‡ç—‡] ã® mg/kg
        // -----------------------------------------------------------------------
        ingredients: {
            "ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³": {
                en: "Acetaminophen", class: "è§£ç†±é®ç—›è–¬",
                toxicDose: 150, lethalDose: 300, unit: "mg/kg",
                severityThresholds: [75, 150, 300],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "è…¹ç—›", "å€¦æ€ æ„Ÿ"],
                    delayed: ["å³å­£è‚‹éƒ¨ç—›", "è‚ä¸å…¨", "é»„ç–¸", "å‡å›ºç•°å¸¸", "è…ä¸å…¨"],
                    severe: ["è‚æ€§è„³ç—‡", "å¤šè‡“å™¨ä¸å…¨", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "è…¹ç—›", "å€¦æ€ æ„Ÿ", "è‚éšœå®³", "é»„ç–¸", "å‡å›ºç•°å¸¸"],
                treatment: {
                    antidote: { name: "N-ã‚¢ã‚»ãƒãƒ«ã‚·ã‚¹ãƒ†ã‚¤ãƒ³ (NAC)", indication: "150mg/kgä»¥ä¸Šã®æ‘‚å–ã€ã¾ãŸã¯4æ™‚é–“å¾Œã®è¡€ä¸­æ¿ƒåº¦ãŒRumack-Matthewãƒãƒ¢ã‚°ãƒ©ãƒ æ²»ç™‚ãƒ©ã‚¤ãƒ³ä»¥ä¸Š", dosing: "åˆå›140mg/kgçµŒå£â†’4æ™‚é–“æ¯70mg/kgÃ—17å›ã€ã¾ãŸã¯é™æ³¨ãƒ—ãƒ­ãƒˆã‚³ãƒ«(150mg/kg/15minâ†’50mg/kg/4hâ†’100mg/kg/16h)" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚æ°—é“ç¢ºä¿å¿…é ˆã€‚" },
                    charcoal: { verdict: "recommended", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰æ¨å¥¨ï¼ˆ50gå˜å›æŠ•ä¸ï¼‰ã€‚NACã¨ã®ä½µç”¨OKã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡é«˜ãé€šå¸¸ä¸è¦ã€‚ãŸã ã—é‡ç—‡è‚ä¸å…¨ã§ä»£è¬ç‰©é™¤å»ç›®çš„ã«è¡€æ¶²æµ„åŒ–ã‚’æ¤œè¨ã™ã‚‹ã“ã¨ã‚ã‚Šã€‚" },
                    other: ["è‚æ©Ÿèƒ½ï¼ˆAST/ALT/PT-INRï¼‰ã‚’6æ™‚é–“æ¯ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "4æ™‚é–“å¾Œã®è¡€ä¸­æ¿ƒåº¦æ¸¬å®šâ†’ãƒãƒ¢ã‚°ãƒ©ãƒ ç¢ºèª", "è…æ©Ÿèƒ½ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "å‡å›ºç³»ãƒã‚§ãƒƒã‚¯"]
                }
            },
            "ã‚¤ãƒ–ãƒ—ãƒ­ãƒ•ã‚§ãƒ³": {
                en: "Ibuprofen", class: "NSAIDs",
                toxicDose: 100, lethalDose: 400, unit: "mg/kg",
                severityThresholds: [50, 100, 400],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "è…¹ç—›", "ä¸‹ç—¢"],
                    delayed: ["æ¶ˆåŒ–ç®¡å‡ºè¡€", "è…ä¸å…¨"],
                    severe: ["ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "ç—™æ”£", "æ˜ç¡"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "è…¹ç—›", "ä¸‹ç—¢", "æ¶ˆåŒ–ç®¡å‡ºè¡€", "è…éšœå®³"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "ç‰¹ç•°çš„æ‹®æŠ—è–¬ãªã—ã€‚å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤å¤§é‡æ‘‚å–(>400mg/kg)æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡99%ã§ã‚ã‚Šè¡€æ¶²æµ„åŒ–ã¯ç„¡åŠ¹ã€‚" },
                    other: ["æ¶ˆåŒ–ç®¡ä¿è­·ï¼ˆPPIæŠ•ä¸ï¼‰", "è…æ©Ÿèƒ½ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "é›»è§£è³ªãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ãƒ­ã‚­ã‚½ãƒ—ãƒ­ãƒ•ã‚§ãƒ³": {
                en: "Loxoprofen", class: "NSAIDs",
                toxicDose: 100, lethalDose: 500, unit: "mg/kg",
                severityThresholds: [50, 100, 300],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "è…¹ç—›"],
                    delayed: ["æ¶ˆåŒ–ç®¡å‡ºè¡€", "è…ä¸å…¨"],
                    severe: ["ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "ç—™æ”£"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "è…¹ç—›", "æ¶ˆåŒ–ç®¡å‡ºè¡€", "è…éšœå®³"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡é«˜ãç„¡åŠ¹ã€‚" },
                    other: ["æ¶ˆåŒ–ç®¡ä¿è­·", "è…æ©Ÿèƒ½ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ã‚¢ã‚¹ãƒ”ãƒªãƒ³": {
                en: "Aspirin (Acetylsalicylic acid)", class: "NSAIDs/æŠ—è¡€å°æ¿è–¬",
                toxicDose: 150, lethalDose: 500, unit: "mg/kg",
                severityThresholds: [150, 300, 500],
                symptoms: {
                    early: ["è€³é³´", "å˜”æ°—", "å˜”å", "éæ›æ°—"],
                    delayed: ["ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "å‘¼å¸æ€§ã‚¢ãƒ«ã‚«ãƒ­ãƒ¼ã‚·ã‚¹", "è„±æ°´"],
                    severe: ["è‚ºæ°´è…«", "ç—™æ”£", "æ˜ç¡", "é«˜ä½“æ¸©", "å‡å›ºç•°å¸¸"]
                },
                allSymptoms: ["è€³é³´", "å˜”æ°—", "å˜”å", "éæ›æ°—", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "ç—™æ”£", "é«˜ä½“æ¸©"],
                treatment: {
                    antidote: { name: "ç‚­é…¸æ°´ç´ ãƒŠãƒˆãƒªã‚¦ãƒ ï¼ˆé‡æ›¹ï¼‰", indication: "å°¿ã‚¢ãƒ«ã‚«ãƒªåŒ–ï¼ˆå°¿pH 7.5-8.0ã‚’ç›®æ¨™ï¼‰ã§æ’æ³„ä¿ƒé€²ã€‚è¡€ä¸­æ¿ƒåº¦>40mg/dLã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤å¤§é‡æ‘‚å–æ™‚ã€‚è…¸æº¶éŒ ã¯èƒƒå†…æ®‹ç•™ã—ã‚„ã™ãæ™‚é–“çµŒéå¾Œã‚‚è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚åå¾©æŠ•ä¸(MDAC)ã‚‚æ¤œè¨ã€‚", multiDose: true },
                    dialysis: { verdict: "recommended", note: "é‡ç—‡ä¾‹ï¼ˆè¡€ä¸­æ¿ƒåº¦>100mg/dLã€è…ä¸å…¨ã€è‚ºæ°´è…«ã€CNSç—‡çŠ¶ï¼‰ã§è¡€æ¶²é€æãŒéå¸¸ã«æœ‰åŠ¹ã€‚" },
                    other: ["è¡€ä¸­ã‚µãƒªãƒãƒ«é…¸æ¿ƒåº¦ã‚’2æ™‚é–“æ¯æ¸¬å®š", "è¡€æ¶²ã‚¬ã‚¹ãƒ»é›»è§£è³ªé »å›ãƒã‚§ãƒƒã‚¯", "è¼¸æ¶²ï¼ˆè„±æ°´è£œæ­£ï¼‰", "ä½ã‚«ãƒªã‚¦ãƒ ã«æ³¨æ„ï¼ˆã‚¢ãƒ«ã‚«ãƒªåŒ–ã®å‰ã«è£œæ­£ï¼‰"]
                }
            },
            "ã‚¸ã‚¯ãƒ­ãƒ•ã‚§ãƒŠã‚¯": {
                en: "Diclofenac", class: "NSAIDs",
                toxicDose: 10, lethalDose: 50, unit: "mg/kg",
                severityThresholds: [5, 10, 30],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "è…¹ç—›"],
                    delayed: ["æ¶ˆåŒ–ç®¡å‡ºè¡€", "è…ä¸å…¨", "è‚éšœå®³"],
                    severe: ["ç—™æ”£", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "è…¹ç—›", "æ¶ˆåŒ–ç®¡å‡ºè¡€", "è…éšœå®³"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡æ¥µã‚ã¦é«˜ãç„¡åŠ¹ã€‚" },
                    other: ["æ¶ˆåŒ–ç®¡ä¿è­·", "è…æ©Ÿèƒ½ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ã‚¨ãƒã‚¾ãƒ©ãƒ ": {
                en: "Etizolam", class: "ãƒã‚¨ãƒã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.5, lethalDose: 10, unit: "mg/kg",
                severityThresholds: [0.2, 0.5, 2],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã", "æ§‹éŸ³éšœå®³"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡", "å‘¼å¸åœæ­¢"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "æ§‹éŸ³éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "ç´”ç²‹ãªBZDä¸­æ¯’ã®æ„è­˜éšœå®³ã«ã€‚ãŸã ã—ç—™æ”£æ­´ãƒ»ä¸‰ç’°ç³»ä½µç”¨æ™‚ã¯ç¦å¿Œã€‚0.2mgé™æ³¨â†’0.1mgãšã¤è¿½åŠ ï¼ˆæœ€å¤§1mgï¼‰ã€‚", dosing: "0.2mg IV â†’ 0.1-0.2mg/min è¿½åŠ , æœ€å¤§1mg" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ï¼ˆBZDå˜ç‹¬ã¯è‡´æ­»æ€§ä½ã„ï¼‰ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤å¤§é‡ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããè›‹ç™½çµåˆç‡é«˜ãç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç¢ºä¿ãƒ»å‘¼å¸ç®¡ç†ãŒæœ€é‡è¦", "çµŒéè¦³å¯Ÿï¼ˆå‘¼å¸ãƒ»æ„è­˜ãƒ¬ãƒ™ãƒ«ï¼‰", "æ··åˆä¸­æ¯’ã®å¯èƒ½æ€§ã‚’å¸¸ã«è€ƒæ…®"]
                }
            },
            "ã‚¸ã‚¢ã‚¼ãƒ‘ãƒ ": {
                en: "Diazepam", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 1, lethalDose: 15, unit: "mg/kg",
                severityThresholds: [0.3, 1, 5],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã", "æ§‹éŸ³éšœå®³"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡", "å‘¼å¸åœæ­¢"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "æ§‹éŸ³éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "ç´”ç²‹ãªBZDä¸­æ¯’ã«ã€‚ç—™æ”£æ­´ãƒ»TCAä½µç”¨æ™‚ã¯ç¦å¿Œã€‚", dosing: "0.2mg IV â†’ è¿½åŠ 0.1mg/min, æœ€å¤§1mg" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç¢ºä¿ãƒ»å‘¼å¸ç®¡ç†", "é•·æ™‚é–“ä½œç”¨æ€§ã®ãŸã‚é•·æœŸè¦³å¯Ÿå¿…è¦"]
                }
            },
            "ãƒˆãƒªã‚¢ã‚¾ãƒ©ãƒ ": {
                en: "Triazolam", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.02, lethalDose: 0.5, unit: "mg/kg",
                severityThresholds: [0.01, 0.02, 0.1],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã", "å¥å¿˜"],
                    delayed: ["æ·±ã„é®é™", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡", "å‘¼å¸åœæ­¢"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "å¥å¿˜", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "ç´”ç²‹ãªBZDä¸­æ¯’ã«ã€‚", dosing: "0.2mg IV â†’ è¿½åŠ " },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã®ã¿è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "çŸ­æ™‚é–“ä½œç”¨æ€§ã ãŒå¥å¿˜ã«æ³¨æ„"]
                }
            },
            "ã‚¾ãƒ«ãƒ”ãƒ‡ãƒ ": {
                en: "Zolpidem", class: "éãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»ç¡çœ è–¬",
                toxicDose: 2, lethalDose: 40, unit: "mg/kg",
                severityThresholds: [1, 2, 10],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "éƒ¨åˆ†çš„ã«æœ‰åŠ¹ã€‚ç´”ç²‹ãªã‚¾ãƒ«ãƒ”ãƒ‡ãƒ ä¸­æ¯’ã«è€ƒæ…®ã€‚", dosing: "0.2mg IV" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "æ··åˆä¸­æ¯’ã®è©•ä¾¡"]
                }
            },
            "ãƒ•ãƒ«ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ": {
                en: "Flunitrazepam", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.1, lethalDose: 2, unit: "mg/kg",
                severityThresholds: [0.05, 0.1, 0.5],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ·±ã„é®é™", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡", "å‘¼å¸åœæ­¢"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "æœ‰åŠ¹ã€‚", dosing: "0.2mg IV â†’ è¿½åŠ " },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†ãŒæœ€å„ªå…ˆ", "é•·æ™‚é–“ä½œç”¨æ€§ã®ãŸã‚é•·æœŸè¦³å¯Ÿ"]
                }
            },
            "ãƒ–ãƒ­ãƒã‚¾ãƒ©ãƒ ": {
                en: "Brotizolam", class: "ãƒã‚¨ãƒã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.02, lethalDose: 0.5, unit: "mg/kg",
                severityThresholds: [0.01, 0.02, 0.1],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "æœ‰åŠ¹ã€‚", dosing: "0.2mg IV â†’ è¿½åŠ " },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "å¤§é‡æ™‚ã®ã¿è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "çµŒéè¦³å¯Ÿ"]
                }
            },
            "ãƒ‹ãƒˆãƒ©ã‚¼ãƒ‘ãƒ ": {
                en: "Nitrazepam", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.5, lethalDose: 10, unit: "mg/kg",
                severityThresholds: [0.2, 0.5, 3],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "æœ‰åŠ¹ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "å¤§é‡æ™‚è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "é•·æ™‚é–“ä½œç”¨æ€§ã®ãŸã‚24æ™‚é–“ä»¥ä¸Šã®è¦³å¯Ÿ"]
                }
            },
            "ã‚¯ãƒ­ãƒŠã‚¼ãƒ‘ãƒ ": {
                en: "Clonazepam", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.1, lethalDose: 2, unit: "mg/kg",
                severityThresholds: [0.05, 0.1, 0.5],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "æœ‰åŠ¹ã ãŒæ…é‡ã«ï¼ˆã¦ã‚“ã‹ã‚“æ‚£è€…ã§ã¯ç—™æ”£èª˜ç™ºãƒªã‚¹ã‚¯ï¼‰ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "å¤§é‡æ™‚è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "ã¦ã‚“ã‹ã‚“æ‚£è€…ã§ã¯é›¢è„±ç—™æ”£ã«ã‚‚æ³¨æ„"]
                }
            },
            "ãƒ­ãƒ©ã‚¼ãƒ‘ãƒ ": {
                en: "Lorazepam", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.5, lethalDose: 10, unit: "mg/kg",
                severityThresholds: [0.2, 0.5, 2],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "æœ‰åŠ¹ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "å¤§é‡æ™‚è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†"]
                }
            },
            "ã‚¢ãƒ«ãƒ—ãƒ©ã‚¾ãƒ©ãƒ ": {
                en: "Alprazolam", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.1, lethalDose: 2, unit: "mg/kg",
                severityThresholds: [0.05, 0.1, 0.5],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "æœ‰åŠ¹ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "å¤§é‡æ™‚è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†"]
                }
            },
            "ãƒ­ãƒ•ãƒ©ã‚¼ãƒ—é…¸ã‚¨ãƒãƒ«": {
                en: "Ethyl Loflazepate", class: "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 0.1, lethalDose: 2, unit: "mg/kg",
                severityThresholds: [0.05, 0.1, 0.5],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "æœ‰åŠ¹ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "å¤§é‡æ™‚è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "è¶…é•·æ™‚é–“ä½œç”¨æ€§â†’é•·æœŸè¦³å¯Ÿ"]
                }
            },
            "ã‚¨ã‚¹ã‚¾ãƒ”ã‚¯ãƒ­ãƒ³": {
                en: "Eszopiclone", class: "éãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ç³»",
                toxicDose: 1, lethalDose: 30, unit: "mg/kg",
                severityThresholds: [0.5, 1, 5],
                symptoms: {
                    early: ["å‚¾çœ "],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«", indication: "éƒ¨åˆ†çš„ã«æœ‰åŠ¹ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç®¡ç†"]
                }
            },
            "ã‚¯ã‚¨ãƒã‚¢ãƒ”ãƒ³": {
                en: "Quetiapine", class: "éå®šå‹æŠ—ç²¾ç¥ç—…è–¬",
                toxicDose: 15, lethalDose: 100, unit: "mg/kg",
                severityThresholds: [8, 15, 50],
                symptoms: {
                    early: ["å‚¾çœ ", "é »è„ˆ", "ä½è¡€åœ§"],
                    delayed: ["æ„è­˜éšœå®³", "QTå»¶é•·", "ç—™æ”£"],
                    severe: ["æ˜ç¡", "è‡´æ­»çš„ä¸æ•´è„ˆ", "æ¨ªç´‹ç­‹èè§£"]
                },
                allSymptoms: ["å‚¾çœ ", "é »è„ˆ", "ä½è¡€åœ§", "æ„è­˜éšœå®³", "QTå»¶é•·", "ç—™æ”£"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "ç‰¹ç•°çš„æ‹®æŠ—è–¬ãªã—ã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤å¤§é‡ãªã‚‰è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ï¼ˆæ‘‚å–2æ™‚é–“ä»¥å†…ï¼‰ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆQTå»¶é•·ã«æ³¨æ„ï¼‰", "è¼¸æ¶²ãƒ»æ˜‡åœ§è–¬ï¼ˆä½è¡€åœ§æ™‚ï¼‰", "ç—™æ”£ã«ã¯ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³", "é«˜è¡€ç³–ã«æ³¨æ„"]
                }
            },
            "ã‚ªãƒ©ãƒ³ã‚¶ãƒ”ãƒ³": {
                en: "Olanzapine", class: "éå®šå‹æŠ—ç²¾ç¥ç—…è–¬",
                toxicDose: 1, lethalDose: 30, unit: "mg/kg",
                severityThresholds: [0.5, 1, 5],
                symptoms: {
                    early: ["å‚¾çœ ", "é »è„ˆ"],
                    delayed: ["æ„è­˜éšœå®³", "æŠ—ã‚³ãƒªãƒ³ç—‡çŠ¶", "ä½è¡€åœ§"],
                    severe: ["æ˜ç¡", "ç—™æ”£"]
                },
                allSymptoms: ["å‚¾çœ ", "é »è„ˆ", "æ„è­˜éšœå®³", "ä½è¡€åœ§", "æŠ—ã‚³ãƒªãƒ³ç—‡çŠ¶"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "è¡€åœ§ç®¡ç†", "è¡€ç³–ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ãƒªã‚¹ãƒšãƒªãƒ‰ãƒ³": {
                en: "Risperidone", class: "éå®šå‹æŠ—ç²¾ç¥ç—…è–¬",
                toxicDose: 1, lethalDose: 20, unit: "mg/kg",
                severityThresholds: [0.5, 1, 5],
                symptoms: {
                    early: ["å‚¾çœ ", "é »è„ˆ", "ä½è¡€åœ§"],
                    delayed: ["éŒä½“å¤–è·¯ç—‡çŠ¶", "QTå»¶é•·"],
                    severe: ["ç—™æ”£", "æ‚ªæ€§ç—‡å€™ç¾¤"]
                },
                allSymptoms: ["å‚¾çœ ", "é »è„ˆ", "ä½è¡€åœ§", "éŒä½“å¤–è·¯ç—‡çŠ¶", "QTå»¶é•·"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚éŒä½“å¤–è·¯ç—‡çŠ¶ã«ã¯ãƒ“ãƒšãƒªãƒ‡ãƒ³ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡é«˜ãç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆQTå»¶é•·ï¼‰", "ä½“æ¸©ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆNMSï¼‰"]
                }
            },
            "ã‚¢ãƒªãƒ”ãƒ—ãƒ©ã‚¾ãƒ¼ãƒ«": {
                en: "Aripiprazole", class: "éå®šå‹æŠ—ç²¾ç¥ç—…è–¬",
                toxicDose: 5, lethalDose: 50, unit: "mg/kg",
                severityThresholds: [2, 5, 15],
                symptoms: {
                    early: ["å‚¾çœ ", "å˜”æ°—"],
                    delayed: ["æ„è­˜éšœå®³", "é »è„ˆ"],
                    severe: ["ç—™æ”£", "æ˜ç¡"]
                },
                allSymptoms: ["å‚¾çœ ", "å˜”æ°—", "æ„è­˜éšœå®³", "é »è„ˆ"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡>99%ã§ç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "çµŒéè¦³å¯Ÿ"]
                }
            },
            "ã‚«ãƒ«ãƒãƒã‚¼ãƒ”ãƒ³": {
                en: "Carbamazepine", class: "æŠ—ã¦ã‚“ã‹ã‚“è–¬",
                toxicDose: 20, lethalDose: 60, unit: "mg/kg",
                severityThresholds: [10, 20, 40],
                symptoms: {
                    early: ["çœ¼æŒ¯", "ãµã‚‰ã¤ã", "å˜”æ°—"],
                    delayed: ["æ„è­˜éšœå®³", "ç—™æ”£", "å¿ƒä¼å°éšœå®³"],
                    severe: ["æ˜ç¡", "å‘¼å¸æŠ‘åˆ¶", "è‡´æ­»çš„ä¸æ•´è„ˆ"]
                },
                allSymptoms: ["çœ¼æŒ¯", "ãµã‚‰ã¤ã", "æ„è­˜éšœå®³", "ç—™æ”£", "ä¸æ•´è„ˆ"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "ç‰¹ç•°çš„æ‹®æŠ—è–¬ãªã—ã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚å¾æ”¾è£½å‰¤ã¯èƒƒå†…æ®‹ç•™ã—ã‚„ã™ã„ã€‚" },
                    charcoal: { verdict: "recommended", note: "åå¾©æŠ•ä¸(MDAC)ãŒæœ‰åŠ¹ï¼ˆè…¸è‚å¾ªç’°ã‚ã‚Šï¼‰ã€‚4æ™‚é–“æ¯25gã€‚", multiDose: true },
                    dialysis: { verdict: "consider", note: "é‡ç—‡ä¾‹ã§è¡€æ¶²çŒæµ(hemoperfusion)ãŒæœ‰åŠ¹ã€‚" },
                    other: ["è¡€ä¸­æ¿ƒåº¦ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "å¿ƒé›»å›³é€£ç¶šãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "ç—™æ”£ã«ã¯ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³"]
                }
            },
            "ãƒãƒ«ãƒ—ãƒ­é…¸": {
                en: "Valproic Acid", class: "æŠ—ã¦ã‚“ã‹ã‚“è–¬",
                toxicDose: 75, lethalDose: 400, unit: "mg/kg",
                severityThresholds: [40, 75, 200],
                symptoms: {
                    early: ["å‚¾çœ ", "å˜”æ°—", "å˜”å"],
                    delayed: ["æ„è­˜éšœå®³", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "é«˜ã‚¢ãƒ³ãƒ¢ãƒ‹ã‚¢è¡€ç—‡"],
                    severe: ["æ˜ç¡", "è„³æµ®è…«", "è‚ä¸å…¨", "æ±è¡€çƒæ¸›å°‘"]
                },
                allSymptoms: ["å‚¾çœ ", "å˜”æ°—", "æ„è­˜éšœå®³", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "é«˜ã‚¢ãƒ³ãƒ¢ãƒ‹ã‚¢è¡€ç—‡"],
                treatment: {
                    antidote: { name: "L-ã‚«ãƒ«ãƒ‹ãƒãƒ³", indication: "é«˜ã‚¢ãƒ³ãƒ¢ãƒ‹ã‚¢è¡€ç—‡ãƒ»è‚éšœå®³æ™‚ã€‚100mg/kg IVï¼ˆæœ€å¤§3gï¼‰â†’50mg/kg 8æ™‚é–“æ¯ã€‚", dosing: "100mg/kg IV (max 3g) â†’ 50mg/kg q8h" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "recommended", note: "é‡ç—‡ä¾‹ï¼ˆè¡€ä¸­æ¿ƒåº¦>850Î¼g/mLã€è„³æµ®è…«ã€è¡€è¡Œå‹•æ…‹ä¸å®‰å®šï¼‰ã§è¡€æ¶²é€æãŒæœ‰åŠ¹ã€‚" },
                    other: ["è¡€ä¸­æ¿ƒåº¦ãƒ»ã‚¢ãƒ³ãƒ¢ãƒ‹ã‚¢ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "è‚æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯", "è¡€æ¶²ã‚¬ã‚¹ï¼ˆã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹è©•ä¾¡ï¼‰"]
                }
            },
            "ãƒ•ã‚§ãƒ‹ãƒˆã‚¤ãƒ³": {
                en: "Phenytoin", class: "æŠ—ã¦ã‚“ã‹ã‚“è–¬",
                toxicDose: 20, lethalDose: 100, unit: "mg/kg",
                severityThresholds: [10, 20, 50],
                symptoms: {
                    early: ["çœ¼æŒ¯", "ãµã‚‰ã¤ã", "å˜”æ°—"],
                    delayed: ["æ„è­˜éšœå®³", "å°è„³å¤±èª¿"],
                    severe: ["ç—™æ”£(é€†èª¬çš„)", "å¿ƒä¼å°éšœå®³"]
                },
                allSymptoms: ["çœ¼æŒ¯", "ãµã‚‰ã¤ã", "æ„è­˜éšœå®³", "å°è„³å¤±èª¿"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "åå¾©æŠ•ä¸(MDAC)ãŒæœ‰åŠ¹ã€‚", multiDose: true },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡90%ã§é€šå¸¸ç„¡åŠ¹ã€‚" },
                    other: ["è¡€ä¸­æ¿ƒåº¦ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "å¿ƒé›»å›³ï¼ˆä¸æ•´è„ˆç›£è¦–ï¼‰"]
                }
            },
            "ãƒ©ãƒ¢ãƒˆãƒªã‚®ãƒ³": {
                en: "Lamotrigine", class: "æŠ—ã¦ã‚“ã‹ã‚“è–¬",
                toxicDose: 20, lethalDose: 100, unit: "mg/kg",
                severityThresholds: [10, 20, 50],
                symptoms: {
                    early: ["å˜”æ°—", "ãµã‚‰ã¤ã", "çœ¼æŒ¯"],
                    delayed: ["æ„è­˜éšœå®³", "QRSå»¶é•·"],
                    severe: ["ç—™æ”£", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["å˜”æ°—", "ãµã‚‰ã¤ã", "æ„è­˜éšœå®³", "QRSå»¶é•·", "ç—™æ”£"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚QRSå»¶é•·ã«ã¯é‡æ›¹ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡é«˜ãç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "QRSå»¶é•·ã«ç‚­é…¸æ°´ç´ ãƒŠãƒˆãƒªã‚¦ãƒ "]
                }
            },
            "ã‚¢ãƒŸãƒˆãƒªãƒ—ãƒãƒªãƒ³": {
                en: "Amitriptyline", class: "ä¸‰ç’°ç³»æŠ—ã†ã¤è–¬",
                toxicDose: 10, lethalDose: 30, unit: "mg/kg",
                severityThresholds: [5, 10, 20],
                symptoms: {
                    early: ["å£æ¸‡", "æ•£ç³", "é »è„ˆ", "å°¿é–‰"],
                    delayed: ["æ„è­˜éšœå®³", "QRSå»¶é•·", "ç—™æ”£"],
                    severe: ["è‡´æ­»çš„ä¸æ•´è„ˆ", "å¿ƒåœæ­¢", "æ˜ç¡"]
                },
                allSymptoms: ["å£æ¸‡", "æ•£ç³", "é »è„ˆ", "å°¿é–‰", "æ„è­˜éšœå®³", "QRSå»¶é•·", "ç—™æ”£"],
                treatment: {
                    antidote: { name: "ç‚­é…¸æ°´ç´ ãƒŠãƒˆãƒªã‚¦ãƒ ï¼ˆé‡æ›¹ï¼‰", indication: "QRSâ‰¥100ms ã§æŠ•ä¸ã€‚1-2mEq/kg IV bolusâ†’æŒç¶šã€‚pH 7.45-7.55ã‚’ç›®æ¨™ã€‚", dosing: "1-2mEq/kg IV bolus" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤è‡´æ­»é‡ä»¥ä¸Šãªã‚‰è€ƒæ…®ã€‚æ°—é“ç¢ºä¿å¿…é ˆã€‚" },
                    charcoal: { verdict: "recommended", note: "å¼·ãæ¨å¥¨ï¼ˆæ‘‚å–2æ™‚é–“ä»¥å†…ï¼‰ã€‚æŠ—ã‚³ãƒªãƒ³ä½œç”¨ã§èƒƒæ’å‡ºé…å»¶ãŒã‚ã‚‹ãŸã‚å¤šå°‘é…ã‚Œã¦ã‚‚æœ‰åŠ¹ãªå ´åˆã‚ã‚Šã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdæ¥µã‚ã¦å¤§ãã(15-40L/kg)ç„¡åŠ¹ã€‚è›‹ç™½çµåˆç‡>90%ã€‚" },
                    other: ["å¿ƒé›»å›³é€£ç¶šãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆQRS, QTï¼‰", "ç—™æ”£ã«ã¯ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ï¼ˆãƒ•ã‚§ãƒ‹ãƒˆã‚¤ãƒ³ç¦å¿Œï¼‰", "ä½è¡€åœ§ã«ã¯NE/è¼¸æ¶²", "æŠ—ã‚³ãƒªãƒ³ç—‡çŠ¶ã®ç®¡ç†", "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«ç¦å¿Œï¼ˆç—™æ”£èª˜ç™ºï¼‰", "æœ€ä½12æ™‚é–“ã®ICUç®¡ç†"]
                }
            },
            "ã‚¤ãƒŸãƒ—ãƒ©ãƒŸãƒ³": {
                en: "Imipramine", class: "ä¸‰ç’°ç³»æŠ—ã†ã¤è–¬",
                toxicDose: 10, lethalDose: 30, unit: "mg/kg",
                severityThresholds: [5, 10, 20],
                symptoms: {
                    early: ["å£æ¸‡", "æ•£ç³", "é »è„ˆ", "å°¿é–‰"],
                    delayed: ["æ„è­˜éšœå®³", "QRSå»¶é•·", "ç—™æ”£"],
                    severe: ["è‡´æ­»çš„ä¸æ•´è„ˆ", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["å£æ¸‡", "æ•£ç³", "é »è„ˆ", "å°¿é–‰", "æ„è­˜éšœå®³", "QRSå»¶é•·", "ç—™æ”£"],
                treatment: {
                    antidote: { name: "ç‚­é…¸æ°´ç´ ãƒŠãƒˆãƒªã‚¦ãƒ ï¼ˆé‡æ›¹ï¼‰", indication: "QRSå»¶é•·æ™‚ã€‚", dosing: "1-2mEq/kg IV" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "å¼·ãæ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³é€£ç¶šãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "ç—™æ”£ã«ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³", "ãƒ•ãƒ«ãƒã‚¼ãƒ‹ãƒ«ç¦å¿Œ"]
                }
            },
            "ãƒ‘ãƒ­ã‚­ã‚»ãƒãƒ³": {
                en: "Paroxetine", class: "SSRI",
                toxicDose: 10, lethalDose: 100, unit: "mg/kg",
                severityThresholds: [5, 10, 30],
                symptoms: {
                    early: ["å˜”æ°—", "æŒ¯æˆ¦", "ç™ºæ±—"],
                    delayed: ["ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤", "ç—™æ”£"],
                    severe: ["é«˜ä½“æ¸©", "æ¨ªç´‹ç­‹èè§£", "DIC"]
                },
                allSymptoms: ["å˜”æ°—", "æŒ¯æˆ¦", "ç™ºæ±—", "èˆˆå¥®", "ç—™æ”£", "é«˜ä½“æ¸©", "é »è„ˆ"],
                treatment: {
                    antidote: { name: "ã‚·ãƒ—ãƒ­ãƒ˜ãƒ—ã‚¿ã‚¸ãƒ³", indication: "ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤æ™‚ã€‚12mgçµŒå£åˆå›â†’2mg 2æ™‚é–“æ¯ã€‚", dosing: "12mg PO initial â†’ 2mg q2h" },
                    lavage: { verdict: "not_recommended", note: "SSRIå˜ç‹¬ã§ã¯é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããç„¡åŠ¹ã€‚" },
                    other: ["ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤ã®è©•ä¾¡ï¼ˆHunter criteriaï¼‰", "ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ï¼ˆèˆˆå¥®ãƒ»ç—™æ”£ï¼‰", "å†·å´ï¼ˆé«˜ä½“æ¸©æ™‚ï¼‰", "MAOé˜»å®³è–¬ã¨ã®ä½µç”¨ç¢ºèª"]
                }
            },
            "ã‚»ãƒ«ãƒˆãƒ©ãƒªãƒ³": {
                en: "Sertraline", class: "SSRI",
                toxicDose: 10, lethalDose: 100, unit: "mg/kg",
                severityThresholds: [5, 10, 30],
                symptoms: {
                    early: ["å˜”æ°—", "æŒ¯æˆ¦"],
                    delayed: ["ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤", "QTå»¶é•·"],
                    severe: ["ç—™æ”£", "é«˜ä½“æ¸©"]
                },
                allSymptoms: ["å˜”æ°—", "æŒ¯æˆ¦", "èˆˆå¥®", "ç—™æ”£", "QTå»¶é•·", "é«˜ä½“æ¸©"],
                treatment: {
                    antidote: { name: "ã‚·ãƒ—ãƒ­ãƒ˜ãƒ—ã‚¿ã‚¸ãƒ³", indication: "ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤æ™‚ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããç„¡åŠ¹ã€‚" },
                    other: ["ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤è©•ä¾¡", "å¿ƒé›»å›³ï¼ˆQTå»¶é•·ï¼‰"]
                }
            },
            "ã‚¨ã‚¹ã‚·ã‚¿ãƒ­ãƒ—ãƒ©ãƒ ": {
                en: "Escitalopram", class: "SSRI",
                toxicDose: 5, lethalDose: 50, unit: "mg/kg",
                severityThresholds: [3, 5, 15],
                symptoms: {
                    early: ["å˜”æ°—", "æŒ¯æˆ¦"],
                    delayed: ["ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤", "QTå»¶é•·"],
                    severe: ["ç—™æ”£", "è‡´æ­»çš„ä¸æ•´è„ˆ"]
                },
                allSymptoms: ["å˜”æ°—", "æŒ¯æˆ¦", "QTå»¶é•·", "ç—™æ”£", "é«˜ä½“æ¸©"],
                treatment: {
                    antidote: { name: "ã‚·ãƒ—ãƒ­ãƒ˜ãƒ—ã‚¿ã‚¸ãƒ³", indication: "ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤æ™‚ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆQTå»¶é•·æ³¨æ„ï¼‰", "ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤è©•ä¾¡"]
                }
            },
            "ãƒ‡ãƒ¥ãƒ­ã‚­ã‚»ãƒãƒ³": {
                en: "Duloxetine", class: "SNRI",
                toxicDose: 10, lethalDose: 80, unit: "mg/kg",
                severityThresholds: [5, 10, 30],
                symptoms: {
                    early: ["å˜”æ°—", "é »è„ˆ", "æŒ¯æˆ¦"],
                    delayed: ["ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤", "ç—™æ”£"],
                    severe: ["é«˜ä½“æ¸©", "æ¨ªç´‹ç­‹èè§£"]
                },
                allSymptoms: ["å˜”æ°—", "é »è„ˆ", "æŒ¯æˆ¦", "ç™ºæ±—", "ç—™æ”£", "é«˜ä½“æ¸©"],
                treatment: {
                    antidote: { name: "ã‚·ãƒ—ãƒ­ãƒ˜ãƒ—ã‚¿ã‚¸ãƒ³", indication: "ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤æ™‚ã€‚" },
                    lavage: { verdict: "not_recommended", note: "é€šå¸¸ä¸è¦ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1-2æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡>90%ã§ç„¡åŠ¹ã€‚" },
                    other: ["ã‚»ãƒ­ãƒˆãƒ‹ãƒ³ç—‡å€™ç¾¤è©•ä¾¡", "å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ç‚­é…¸ãƒªãƒã‚¦ãƒ ": {
                en: "Lithium Carbonate", class: "æ°—åˆ†å®‰å®šè–¬",
                toxicDose: 40, lethalDose: 150, unit: "mg/kg",
                severityThresholds: [20, 40, 80],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "ä¸‹ç—¢", "æŒ¯æˆ¦"],
                    delayed: ["æ„è­˜éšœå®³", "è…ä¸å…¨", "ä¸æ•´è„ˆ"],
                    severe: ["ç—™æ”£", "æ˜ç¡", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "ä¸‹ç—¢", "æŒ¯æˆ¦", "æ„è­˜éšœå®³", "è…éšœå®³", "ç—™æ”£"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "ç‰¹ç•°çš„æ‹®æŠ—è–¬ãªã—ã€‚å…¨èº«ç®¡ç†ã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚å¤§é‡æ‘‚å–æ™‚ã¯å…¨è…¸ç®¡æ´—æµ„(WBI)ã‚‚æ¤œè¨ã€‚" },
                    charcoal: { verdict: "contraindicated", note: "æ´»æ€§ç‚­ã¯ãƒªãƒã‚¦ãƒ ã‚’å¸ç€ã—ãªã„ã€‚ç„¡åŠ¹ã€‚" },
                    dialysis: { verdict: "recommended", note: "é‡ç—‡ä¾‹ï¼ˆè¡€ä¸­Li>4mEq/Lã€CNSç—‡çŠ¶ã€è…ä¸å…¨ï¼‰ã§è¡€æ¶²é€æãŒéå¸¸ã«æœ‰åŠ¹ã€‚ãƒªãƒã‚¦ãƒ³ãƒ‰ã«æ³¨æ„ã—6æ™‚é–“å¾Œã«å†æ¤œã€‚" },
                    other: ["è¡€ä¸­ãƒªãƒã‚¦ãƒ æ¿ƒåº¦ã‚’2-4æ™‚é–“æ¯æ¸¬å®š", "å¤§é‡è¼¸æ¶²ï¼ˆç”Ÿç†é£Ÿå¡©æ°´ï¼‰ã§è…æ’æ³„ä¿ƒé€²", "å…¨è…¸ç®¡æ´—æµ„(WBI)ã®æ¤œè¨", "é€æå¾Œã®ãƒªãƒã‚¦ãƒ³ãƒ‰ã«æ³¨æ„", "è…æ©Ÿèƒ½ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ã‚¸ã‚´ã‚­ã‚·ãƒ³": {
                en: "Digoxin", class: "å¼·å¿ƒé…ç³–ä½“",
                toxicDose: 0.05, lethalDose: 0.3, unit: "mg/kg",
                severityThresholds: [0.02, 0.05, 0.1],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "é£Ÿæ¬²ä¸æŒ¯"],
                    delayed: ["å¾è„ˆ", "ä¸æ•´è„ˆ", "é«˜ã‚«ãƒªã‚¦ãƒ è¡€ç—‡", "è¦–è¦šç•°å¸¸ï¼ˆé»„è¦–ï¼‰"],
                    severe: ["è‡´æ­»çš„ä¸æ•´è„ˆ", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "å¾è„ˆ", "ä¸æ•´è„ˆ", "é«˜ã‚«ãƒªã‚¦ãƒ è¡€ç—‡"],
                treatment: {
                    antidote: { name: "ã‚¸ã‚´ã‚­ã‚·ãƒ³ç‰¹ç•°çš„æŠ—ä½“ï¼ˆDigiFabï¼‰", indication: "è‡´æ­»çš„ä¸æ•´è„ˆã€é«˜ã‚«ãƒªã‚¦ãƒ (>5.5)ã€è¡€è¡Œå‹•æ…‹ä¸å®‰å®šæ™‚ã€‚ãƒã‚¤ã‚¢ãƒ«æ•°=æ‘‚å–é‡(mg)Ã—0.8/0.5 ã¾ãŸã¯ è¡€ä¸­æ¿ƒåº¦Ã—ä½“é‡/100ã€‚", dosing: "ãƒã‚¤ã‚¢ãƒ«æ•° = æ‘‚å–é‡(mg) Ã— 0.8 Ã· 0.5" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚åå¾©æŠ•ä¸ã‚‚æ¤œè¨ï¼ˆè…¸è‚å¾ªç’°ï¼‰ã€‚", multiDose: true },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ãã(5-7L/kg)ç„¡åŠ¹ã€‚" },
                    other: ["å¿ƒé›»å›³é€£ç¶šãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆã‚ã‚‰ã‚†ã‚‹ä¸æ•´è„ˆã«æ³¨æ„ï¼‰", "ã‚«ãƒªã‚¦ãƒ é »å›ãƒã‚§ãƒƒã‚¯", "ã‚¢ãƒˆãƒ­ãƒ”ãƒ³ï¼ˆå¾è„ˆæ™‚ï¼‰", "ãƒšãƒ¼ã‚·ãƒ³ã‚°æº–å‚™", "é›»æ°—çš„é™¤ç´°å‹•ã¯æœ€çµ‚æ‰‹æ®µï¼ˆVFèª˜ç™ºãƒªã‚¹ã‚¯ï¼‰"]
                }
            },
            "ãƒ—ãƒ­ãƒ—ãƒ©ãƒãƒ­ãƒ¼ãƒ«": {
                en: "Propranolol", class: "Î²é®æ–­è–¬",
                toxicDose: 2, lethalDose: 20, unit: "mg/kg",
                severityThresholds: [1, 2, 10],
                symptoms: {
                    early: ["å¾è„ˆ", "ä½è¡€åœ§"],
                    delayed: ["æ„è­˜éšœå®³", "ä½è¡€ç³–", "æ°—ç®¡æ”¯ç—™æ”£"],
                    severe: ["å¿ƒåŸæ€§ã‚·ãƒ§ãƒƒã‚¯", "ç—™æ”£", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["å¾è„ˆ", "ä½è¡€åœ§", "æ„è­˜éšœå®³", "ä½è¡€ç³–", "æ°—ç®¡æ”¯ç—™æ”£"],
                treatment: {
                    antidote: { name: "ã‚°ãƒ«ã‚«ã‚´ãƒ³", indication: "å¾è„ˆãƒ»ä½è¡€åœ§æ™‚ã€‚3-10mg IV bolus â†’ 3-5mg/hæŒç¶šã€‚", dosing: "3-10mg IV bolus â†’ 3-5mg/h infusion" },
                    lavage: { verdict: "consider", note: "è‡´æ­»é‡ä»¥ä¸Šã®æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdå¤§ããè›‹ç™½çµåˆç‡é«˜ãç„¡åŠ¹ã€‚" },
                    other: ["ã‚¢ãƒˆãƒ­ãƒ”ãƒ³ï¼ˆå¾è„ˆã«ï¼‰", "é«˜ç”¨é‡ã‚¤ãƒ³ã‚¹ãƒªãƒ³ç™‚æ³•(HIE)ã®æ¤œè¨", "ã‚«ãƒ†ã‚³ãƒ©ãƒŸãƒ³", "è„‚è‚ªä¹³å‰¤ï¼ˆIVLE, Intralipidï¼‰ã®æ¤œè¨", "ãƒšãƒ¼ã‚·ãƒ³ã‚°æº–å‚™", "è¡€ç³–ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ã‚¢ãƒ†ãƒãƒ­ãƒ¼ãƒ«": {
                en: "Atenolol", class: "Î²é®æ–­è–¬",
                toxicDose: 5, lethalDose: 50, unit: "mg/kg",
                severityThresholds: [2, 5, 20],
                symptoms: {
                    early: ["å¾è„ˆ", "ä½è¡€åœ§"],
                    delayed: ["æ„è­˜éšœå®³", "ä½è¡€ç³–"],
                    severe: ["å¿ƒåŸæ€§ã‚·ãƒ§ãƒƒã‚¯"]
                },
                allSymptoms: ["å¾è„ˆ", "ä½è¡€åœ§", "æ„è­˜éšœå®³", "ä½è¡€ç³–"],
                treatment: {
                    antidote: { name: "ã‚°ãƒ«ã‚«ã‚´ãƒ³", indication: "å¾è„ˆãƒ»ä½è¡€åœ§æ™‚ã€‚", dosing: "3-10mg IV bolus â†’ æŒç¶š" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "consider", note: "æ°´æº¶æ€§ã§è›‹ç™½çµåˆç‡ä½ãã€é‡ç—‡ä¾‹ã§è¡€æ¶²é€æãŒæœ‰åŠ¹ãªå ´åˆã‚ã‚Šã€‚" },
                    other: ["ã‚°ãƒ«ã‚«ã‚´ãƒ³", "HIE", "ã‚«ãƒ†ã‚³ãƒ©ãƒŸãƒ³", "ãƒšãƒ¼ã‚·ãƒ³ã‚°"]
                }
            },
            "ã‚¢ãƒ ãƒ­ã‚¸ãƒ”ãƒ³": {
                en: "Amlodipine", class: "Caæ‹®æŠ—è–¬",
                toxicDose: 1, lethalDose: 10, unit: "mg/kg",
                severityThresholds: [0.5, 1, 5],
                symptoms: {
                    early: ["ä½è¡€åœ§", "é »è„ˆï¼ˆåå°„æ€§ï¼‰"],
                    delayed: ["å¾è„ˆ", "å¿ƒåŸæ€§ã‚·ãƒ§ãƒƒã‚¯", "é«˜è¡€ç³–", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹"],
                    severe: ["é›£æ²»æ€§ã‚·ãƒ§ãƒƒã‚¯", "è‚ºæ°´è…«", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["ä½è¡€åœ§", "å¾è„ˆ", "é »è„ˆ", "é«˜è¡€ç³–", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹"],
                treatment: {
                    antidote: { name: "é«˜ç”¨é‡ã‚¤ãƒ³ã‚¹ãƒªãƒ³ç™‚æ³•(HIE) + Caè£½å‰¤", indication: "ä½è¡€åœ§ãƒ»å¾è„ˆæ™‚ã€‚ã‚¤ãƒ³ã‚¹ãƒªãƒ³1U/kg bolus â†’ 0.5-2U/kg/h + ã‚°ãƒ«ã‚³ãƒ¼ã‚¹ + å¡©åŒ–Ca/ã‚°ãƒ«ã‚³ãƒ³é…¸Caã€‚", dosing: "Insulin 1U/kg IV â†’ 0.5-2U/kg/h + Ca gluconate 3g IV" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã‹ã¤è‡´æ­»é‡ã«è€ƒæ…®ã€‚é•·æ™‚é–“ä½œç”¨å‹ã¯é…ã‚Œã¦ã‚‚èƒƒå†…æ®‹ç•™ã®å¯èƒ½æ€§ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚å…¨è…¸ç®¡æ´—æµ„(WBI)ã‚‚æ¤œè¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "Vdæ¥µå¤§(21L/kg)ã€è›‹ç™½çµåˆç‡97%ã§ç„¡åŠ¹ã€‚" },
                    other: ["é«˜ç”¨é‡ã‚¤ãƒ³ã‚¹ãƒªãƒ³ç™‚æ³•(HIE)ãŒç¬¬ä¸€é¸æŠ", "Caè£½å‰¤æŠ•ä¸", "è¼¸æ¶²ãƒ»æ˜‡åœ§è–¬", "è„‚è‚ªä¹³å‰¤(IVLE)ã®æ¤œè¨", "VA-ECMOã®æ¤œè¨ï¼ˆé›£æ²»æ€§ï¼‰", "è¡€ç³–ãƒ»é›»è§£è³ªé »å›ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
            "ãƒ‹ãƒ•ã‚§ã‚¸ãƒ”ãƒ³": {
                en: "Nifedipine", class: "Caæ‹®æŠ—è–¬",
                toxicDose: 5, lethalDose: 30, unit: "mg/kg",
                severityThresholds: [2, 5, 15],
                symptoms: {
                    early: ["ä½è¡€åœ§", "é »è„ˆ"],
                    delayed: ["å¾è„ˆ", "å¿ƒåŸæ€§ã‚·ãƒ§ãƒƒã‚¯", "é«˜è¡€ç³–"],
                    severe: ["é›£æ²»æ€§ã‚·ãƒ§ãƒƒã‚¯", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["ä½è¡€åœ§", "é »è„ˆ", "å¾è„ˆ", "é«˜è¡€ç³–"],
                treatment: {
                    antidote: { name: "é«˜ç”¨é‡ã‚¤ãƒ³ã‚¹ãƒªãƒ³ç™‚æ³•(HIE) + Caè£½å‰¤", indication: "ä½è¡€åœ§æ™‚ã€‚" },
                    lavage: { verdict: "consider", note: "å¾æ”¾è£½å‰¤ã§ã¯èƒƒå†…æ®‹ç•™ã®å¯èƒ½æ€§ã‚ã‚Šã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚WBIã‚‚æ¤œè¨ï¼ˆå¾æ”¾è£½å‰¤ï¼‰ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡é«˜ãç„¡åŠ¹ã€‚" },
                    other: ["HIE", "Caè£½å‰¤", "æ˜‡åœ§è–¬", "è„‚è‚ªä¹³å‰¤"]
                }
            },
            "ã‚°ãƒªãƒ¡ãƒ”ãƒªãƒ‰": {
                en: "Glimepiride", class: "SUè–¬",
                toxicDose: 0.1, lethalDose: 1, unit: "mg/kg",
                severityThresholds: [0.05, 0.1, 0.5],
                symptoms: {
                    early: ["ä½è¡€ç³–ï¼ˆç™ºæ±—, æŒ¯æˆ¦, é »è„ˆ, ç©ºè…¹æ„Ÿï¼‰"],
                    delayed: ["é·å»¶æ€§ä½è¡€ç³–", "æ„è­˜éšœå®³"],
                    severe: ["ç—™æ”£", "æ˜ç¡", "è„³éšœå®³"]
                },
                allSymptoms: ["ä½è¡€ç³–", "ç™ºæ±—", "æŒ¯æˆ¦", "é »è„ˆ", "æ„è­˜éšœå®³", "ç—™æ”£"],
                treatment: {
                    antidote: { name: "ã‚ªã‚¯ãƒˆãƒ¬ã‚ªãƒãƒ‰ + ãƒ–ãƒ‰ã‚¦ç³–", indication: "ä½è¡€ç³–æ™‚ã€‚ã‚ªã‚¯ãƒˆãƒ¬ã‚ªãƒãƒ‰50-100Î¼g SC q6-8h ã§ã‚¤ãƒ³ã‚¹ãƒªãƒ³åˆ†æ³ŒæŠ‘åˆ¶ã€‚50%ãƒ–ãƒ‰ã‚¦ç³–50mL IVã€‚", dosing: "Octreotide 50-100Î¼g SC q6-8h + D50W 50mL IV" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "è›‹ç™½çµåˆç‡>99%ã§ç„¡åŠ¹ã€‚" },
                    other: ["è¡€ç³–ã‚’1æ™‚é–“æ¯ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆæœ€ä½24æ™‚é–“ï¼‰", "é·å»¶æ€§ä½è¡€ç³–ã«æ³¨æ„ï¼ˆSUè–¬ã¯é•·æ™‚é–“ä½œç”¨ï¼‰", "å…¥é™¢è¦³å¯Ÿå¿…é ˆ"]
                }
            },
            "ãƒ¡ãƒˆãƒ›ãƒ«ãƒŸãƒ³": {
                en: "Metformin", class: "ãƒ“ã‚°ã‚¢ãƒŠã‚¤ãƒ‰",
                toxicDose: 85, lethalDose: 400, unit: "mg/kg",
                severityThresholds: [50, 85, 200],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "ä¸‹ç—¢", "è…¹ç—›"],
                    delayed: ["ä¹³é…¸ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "ä½è¡€ç³–"],
                    severe: ["é‡ç—‡ä¹³é…¸ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "å¤šè‡“å™¨ä¸å…¨", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "ä¸‹ç—¢", "ä¹³é…¸ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "ä½è¡€ç³–"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "ç‰¹ç•°çš„æ‹®æŠ—è–¬ãªã—ã€‚ä¹³é…¸ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹ã®ç®¡ç†ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "recommended", note: "ä¹³é…¸ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹æ™‚ã«è¡€æ¶²é€æãŒæœ‰åŠ¹ï¼ˆä½åˆ†å­é‡ã€è›‹ç™½çµåˆãªã—ï¼‰ã€‚CRRT/CHDFã‚‚æ¤œè¨ã€‚" },
                    other: ["ä¹³é…¸å€¤ãƒ»è¡€æ¶²ã‚¬ã‚¹é »å›ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "è¡€ç³–ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "è…æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯", "é‡æ›¹æŠ•ä¸ã¯è³›å¦ã‚ã‚Šï¼ˆé€æå„ªå…ˆï¼‰"]
                }
            },
            "ãƒ†ã‚ªãƒ•ã‚£ãƒªãƒ³": {
                en: "Theophylline", class: "ã‚­ã‚µãƒ³ãƒãƒ³èª˜å°ä½“",
                toxicDose: 10, lethalDose: 50, unit: "mg/kg",
                severityThresholds: [5, 10, 30],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "é »è„ˆ", "èˆˆå¥®"],
                    delayed: ["ä½ã‚«ãƒªã‚¦ãƒ è¡€ç—‡", "é«˜è¡€ç³–", "ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹"],
                    severe: ["ç—™æ”£", "è‡´æ­»çš„ä¸æ•´è„ˆ", "æ¨ªç´‹ç­‹èè§£"]
                },
                allSymptoms: ["å˜”æ°—", "å˜”å", "é »è„ˆ", "èˆˆå¥®", "ä½ã‚«ãƒªã‚¦ãƒ è¡€ç—‡", "ç—™æ”£", "ä¸æ•´è„ˆ"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "ç‰¹ç•°çš„æ‹®æŠ—è–¬ãªã—ã€‚" },
                    lavage: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚å¾æ”¾è£½å‰¤ã¯WBIã‚‚ã€‚" },
                    charcoal: { verdict: "recommended", note: "åå¾©æŠ•ä¸(MDAC)ãŒéå¸¸ã«æœ‰åŠ¹ã€‚4æ™‚é–“æ¯25gã€‚", multiDose: true },
                    dialysis: { verdict: "recommended", note: "é‡ç—‡ä¾‹ï¼ˆè¡€ä¸­æ¿ƒåº¦>100Î¼g/mLæ€¥æ€§ã€ç—™æ”£ã€è¡€è¡Œå‹•æ…‹ä¸å®‰å®šï¼‰ã§è¡€æ¶²çŒæµoré€æãŒæœ‰åŠ¹ã€‚" },
                    other: ["è¡€ä¸­ãƒ†ã‚ªãƒ•ã‚£ãƒªãƒ³æ¿ƒåº¦ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "é›»è§£è³ªï¼ˆKï¼‰é »å›ãƒã‚§ãƒƒã‚¯", "ç—™æ”£ã«ã¯ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ï¼ˆãƒ•ã‚§ãƒ‹ãƒˆã‚¤ãƒ³ç„¡åŠ¹ï¼‰", "åˆ¶åå‰¤ï¼ˆã‚ªãƒ³ãƒ€ãƒ³ã‚»ãƒˆãƒ­ãƒ³ï¼‰"]
                }
            },
            "ã‚«ãƒ•ã‚§ã‚¤ãƒ³": {
                en: "Caffeine", class: "ã‚­ã‚µãƒ³ãƒãƒ³èª˜å°ä½“",
                toxicDose: 15, lethalDose: 80, unit: "mg/kg",
                severityThresholds: [10, 15, 50],
                symptoms: {
                    early: ["å˜”æ°—", "å˜”å", "é »è„ˆ", "èˆˆå¥®", "æŒ¯æˆ¦"],
                    delayed: ["ä½ã‚«ãƒªã‚¦ãƒ è¡€ç—‡", "ä¸æ•´è„ˆ", "æ¨ªç´‹ç­‹èè§£"],
                    severe: ["ç—™æ”£", "è‡´æ­»çš„ä¸æ•´è„ˆ", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["å˜”æ°—", "é »è„ˆ", "èˆˆå¥®", "æŒ¯æˆ¦", "ä¸æ•´è„ˆ", "ç—™æ”£", "ä½ã‚«ãƒªã‚¦ãƒ è¡€ç—‡"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–1æ™‚é–“ä»¥å†…ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "MDACæœ‰åŠ¹ã€‚", multiDose: true },
                    dialysis: { verdict: "consider", note: "é‡ç—‡ä¾‹ã§è¡€æ¶²é€æã‚’æ¤œè¨ã€‚" },
                    other: ["å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°", "é›»è§£è³ªï¼ˆK, Mgï¼‰è£œæ­£", "Î²ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ï¼ˆé »è„ˆãƒ»ä¸æ•´è„ˆã«çŸ­æ™‚é–“ä½œç”¨å‹ã‚¨ã‚¹ãƒ¢ãƒ­ãƒ¼ãƒ«æ¤œè¨ï¼‰", "ç—™æ”£ã«ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³"]
                }
            },
            "ã‚¢ãƒªãƒ«ã‚¤ã‚½ãƒ—ãƒ­ãƒ”ãƒ«ã‚¢ã‚»ãƒãƒ«å°¿ç´ ": {
                en: "Allylisopropylacetylurea", class: "é®é™è–¬",
                toxicDose: 15, lethalDose: 50, unit: "mg/kg",
                severityThresholds: [8, 15, 30],
                symptoms: {
                    early: ["å‚¾çœ ", "ãµã‚‰ã¤ã"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                    severe: ["æ˜ç¡", "å‘¼å¸åœæ­¢"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "ãµã‚‰ã¤ã", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "consider", note: "é‡ç—‡ä¾‹ã§æ¤œè¨ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "çµŒéè¦³å¯Ÿ"]
                }
            },
            "ãƒ–ãƒ­ãƒ¢ãƒãƒ¬ãƒªãƒ«å°¿ç´ ": {
                en: "Bromovalerylurea", class: "é®é™è–¬",
                toxicDose: 30, lethalDose: 100, unit: "mg/kg",
                severityThresholds: [15, 30, 60],
                symptoms: {
                    early: ["å‚¾çœ ", "å˜”æ°—"],
                    delayed: ["æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶", "è‡­ç´ ä¸­æ¯’"],
                    severe: ["æ˜ç¡", "å‘¼å¸åœæ­¢", "è…ä¸å…¨"]
                },
                allSymptoms: ["å‚¾çœ ", "æ„è­˜éšœå®³", "å‘¼å¸æŠ‘åˆ¶"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "consider", note: "é‡ç—‡ä¾‹ã§è¡€æ¶²çŒæµã‚’æ¤œè¨ã€‚" },
                    other: ["æ°—é“ç®¡ç†", "è‡­ç´ æ¿ƒåº¦ãƒã‚§ãƒƒã‚¯", "è¼¸æ¶²"]
                }
            },
            "ã‚¸ãƒ’ãƒ‰ãƒ­ã‚³ãƒ‡ã‚¤ãƒ³": {
                en: "Dihydrocodeine", class: "ã‚ªãƒ”ã‚ªã‚¤ãƒ‰",
                toxicDose: 3, lethalDose: 15, unit: "mg/kg",
                severityThresholds: [1.5, 3, 10],
                symptoms: {
                    early: ["å‚¾çœ ", "å˜”æ°—", "ç¸®ç³"],
                    delayed: ["å‘¼å¸æŠ‘åˆ¶", "æ„è­˜éšœå®³"],
                    severe: ["æ˜ç¡", "å‘¼å¸åœæ­¢"]
                },
                allSymptoms: ["å‚¾çœ ", "ç¸®ç³", "å˜”æ°—", "å‘¼å¸æŠ‘åˆ¶", "æ„è­˜éšœå®³"],
                treatment: {
                    antidote: { name: "ãƒŠãƒ­ã‚­ã‚½ãƒ³", indication: "å‘¼å¸æŠ‘åˆ¶æ™‚ã€‚0.4-2mg IV â†’ åå¿œãªã‘ã‚Œã°è¿½åŠ ï¼ˆæœ€å¤§10mgï¼‰ã€‚åŠ¹æœã¯çŸ­ã„ãŸã‚æŒç¶šæŠ•ä¸è€ƒæ…®ã€‚", dosing: "0.4-2mg IV â†’ è¿½åŠ , æŒç¶š0.4-0.8mg/h" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["æ°—é“ç¢ºä¿ãƒ»å‘¼å¸ç®¡ç†ãŒæœ€å„ªå…ˆ", "ãƒŠãƒ­ã‚­ã‚½ãƒ³ã®åŠæ¸›æœŸ(30-90min)ã¯ã‚³ãƒ‡ã‚¤ãƒ³ã‚ˆã‚ŠçŸ­ã„ãŸã‚å†æŠ•ä¸æ³¨æ„"]
                }
            },
            "dl-ãƒ¡ãƒãƒ«ã‚¨ãƒ•ã‚§ãƒ‰ãƒªãƒ³": {
                en: "dl-Methylephedrine", class: "äº¤æ„Ÿç¥çµŒåˆºæ¿€è–¬",
                toxicDose: 5, lethalDose: 30, unit: "mg/kg",
                severityThresholds: [2, 5, 15],
                symptoms: {
                    early: ["é »è„ˆ", "é«˜è¡€åœ§", "èˆˆå¥®", "æŒ¯æˆ¦"],
                    delayed: ["ä¸æ•´è„ˆ", "ç—™æ”£"],
                    severe: ["è„³å‡ºè¡€", "å¿ƒåœæ­¢"]
                },
                allSymptoms: ["é »è„ˆ", "é«˜è¡€åœ§", "èˆˆå¥®", "æŒ¯æˆ¦", "ä¸æ•´è„ˆ"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "consider", note: "æ‘‚å–1æ™‚é–“ä»¥å†…ãªã‚‰è€ƒæ…®ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³ï¼ˆèˆˆå¥®ãƒ»ç—™æ”£ï¼‰", "é™åœ§ï¼ˆé«˜è¡€åœ§ç·Šæ€¥ç—‡æ™‚ï¼‰"]
                }
            },
            "ã‚¯ãƒ­ãƒ«ãƒ•ã‚§ãƒ‹ãƒ©ãƒŸãƒ³": {
                en: "Chlorpheniramine", class: "æŠ—ãƒ’ã‚¹ã‚¿ãƒŸãƒ³è–¬",
                toxicDose: 1, lethalDose: 10, unit: "mg/kg",
                severityThresholds: [0.5, 1, 5],
                symptoms: {
                    early: ["å‚¾çœ ", "å£æ¸‡", "æ•£ç³"],
                    delayed: ["èˆˆå¥®ï¼ˆå°å…ï¼‰", "ç—™æ”£", "é »è„ˆ"],
                    severe: ["æ„è­˜éšœå®³", "ä¸æ•´è„ˆ"]
                },
                allSymptoms: ["å‚¾çœ ", "å£æ¸‡", "æ•£ç³", "é »è„ˆ", "ç—™æ”£"],
                treatment: {
                    antidote: { name: "ãªã—", indication: "å¯¾ç—‡ç™‚æ³•ã€‚é‡ç—‡æŠ—ã‚³ãƒªãƒ³ç—‡çŠ¶ã«ãƒ•ã‚£ã‚¾ã‚¹ãƒã‚°ãƒŸãƒ³æ¤œè¨ã€‚" },
                    lavage: { verdict: "consider", note: "å¤§é‡æ‘‚å–æ™‚ã«è€ƒæ…®ã€‚" },
                    charcoal: { verdict: "recommended", note: "æ¨å¥¨ã€‚", multiDose: false },
                    dialysis: { verdict: "not_recommended", note: "ç„¡åŠ¹ã€‚" },
                    other: ["ç—™æ”£ã«ãƒ™ãƒ³ã‚¾ã‚¸ã‚¢ã‚¼ãƒ”ãƒ³", "å¿ƒé›»å›³ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°"]
                }
            },
        },

        // -----------------------------------------------------------------------
        //  ç—‡çŠ¶ãƒã‚¹ã‚¿ãƒ¼ãƒªã‚¹ãƒˆï¼ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆç”¨ï¼‰
        // -----------------------------------------------------------------------
        symptomCategories: {
            "ä¸­æ¢ç¥çµŒ": ["å‚¾çœ ", "æ„è­˜éšœå®³", "æ˜ç¡", "èˆˆå¥®", "ç—™æ”£", "æ§‹éŸ³éšœå®³", "ãµã‚‰ã¤ã", "å°è„³å¤±èª¿", "çœ¼æŒ¯", "å¥å¿˜", "é ­ç—›"],
            "å¾ªç’°å™¨": ["é »è„ˆ", "å¾è„ˆ", "ä½è¡€åœ§", "é«˜è¡€åœ§", "ä¸æ•´è„ˆ", "QRSå»¶é•·", "QTå»¶é•·", "å¿ƒåŸæ€§ã‚·ãƒ§ãƒƒã‚¯"],
            "å‘¼å¸å™¨": ["å‘¼å¸æŠ‘åˆ¶", "éæ›æ°—", "æ°—ç®¡æ”¯ç—™æ”£", "è‚ºæ°´è…«"],
            "æ¶ˆåŒ–å™¨": ["å˜”æ°—", "å˜”å", "è…¹ç—›", "ä¸‹ç—¢", "æ¶ˆåŒ–ç®¡å‡ºè¡€"],
            "ä»£è¬": ["ä»£è¬æ€§ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹", "ä½è¡€ç³–", "é«˜è¡€ç³–", "ä½ã‚«ãƒªã‚¦ãƒ è¡€ç—‡", "é«˜ã‚«ãƒªã‚¦ãƒ è¡€ç—‡", "é«˜ã‚¢ãƒ³ãƒ¢ãƒ‹ã‚¢è¡€ç—‡", "ä¹³é…¸ã‚¢ã‚·ãƒ‰ãƒ¼ã‚·ã‚¹"],
            "è‡ªå¾‹ç¥çµŒ": ["æ•£ç³", "ç¸®ç³", "ç™ºæ±—", "å£æ¸‡", "å°¿é–‰"],
            "ãã®ä»–": ["æŒ¯æˆ¦", "é«˜ä½“æ¸©", "æ¨ªç´‹ç­‹èè§£", "è‚éšœå®³", "é»„ç–¸", "è…éšœå®³", "å‡å›ºç•°å¸¸", "è€³é³´", "éŒä½“å¤–è·¯ç—‡çŠ¶", "æŠ—ã‚³ãƒªãƒ³ç—‡çŠ¶"]
        }
    };

    // ===========================================================================
    //  APPLICATION CLASS
    // ===========================================================================

    class ToxicNavi {
        constructor() {
            this.ingestedDrugs = [];       // { productName, amount, unit, ingredients: [{ name, totalMg, dosePerKg, severityScore, severityLabel, info }] }
            this.patientWeight = 60;
            this.patientAge = 40;
            this.hoursElapsed = 1;
            this.ingestionType = 'acute';
            this.selectedProduct = null;
            this.acActiveIndex = -1;
            this.checkedSymptoms = new Set();
        }

        // --- Patient Info ---
        updatePatientInfo() {
            this.patientWeight = parseFloat(document.getElementById('patientWeight').value) || 60;
            this.patientAge = parseFloat(document.getElementById('patientAge').value) || 40;
            this.hoursElapsed = parseFloat(document.getElementById('hoursElapsed').value) || 0;
            this.ingestionType = document.getElementById('ingestionType').value;
            // Recalculate all severities
            this.recalcAll();
            this.renderAll();
        }

        // --- Autocomplete Search ---
        onSearchInput(query) {
            this.acActiveIndex = -1;
            const dropdown = document.getElementById('acDropdown');
            if (!query || query.length < 1) { dropdown.classList.add('hidden'); return; }

            const q = query.toLowerCase();
            let results = [];

            // Search products
            for (const [name, info] of Object.entries(DB.products)) {
                if (name.toLowerCase().includes(q)) {
                    results.push({ type: 'product', name, info, matchField: name });
                }
            }
            // Search by ingredient name
            for (const [name, info] of Object.entries(DB.products)) {
                for (const ing of info.ingredients) {
                    if (ing.name.toLowerCase().includes(q)) {
                        if (!results.find(r => r.name === name)) {
                            results.push({ type: 'product', name, info, matchField: `æˆåˆ†: ${ing.name}` });
                        }
                    }
                    // Also search english name
                    const ingInfo = DB.ingredients[ing.name];
                    if (ingInfo && ingInfo.en.toLowerCase().includes(q)) {
                        if (!results.find(r => r.name === name)) {
                            results.push({ type: 'product', name, info, matchField: `${ingInfo.en}` });
                        }
                    }
                }
            }
            // Search ingredients directly
            for (const [name, info] of Object.entries(DB.ingredients)) {
                if (name.toLowerCase().includes(q) || info.en.toLowerCase().includes(q)) {
                    if (!results.find(r => r.name === name && r.type === 'ingredient')) {
                        results.push({ type: 'ingredient', name, info, matchField: `æˆåˆ†: ${name} (${info.en})` });
                    }
                }
            }

            if (results.length === 0) {
                dropdown.innerHTML = `<div class="p-3 text-sm text-slate-400">è©²å½“ãªã— â€” æˆåˆ†åã‚’ç›´æ¥å…¥åŠ›ã—ã¦æ‰‹å‹•è¿½åŠ ã§ãã¾ã™</div>`;
                dropdown.classList.remove('hidden');
                return;
            }

            dropdown.innerHTML = results.slice(0, 20).map((r, i) => {
                const typeLabel = r.type === 'product' ? `<span class="text-xs bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded">${r.info.category || 'è£½å“'}</span>` : `<span class="text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded">æˆåˆ†</span>`;
                const ingList = r.type === 'product' ? `<span class="text-xs text-slate-400 ml-2">${r.info.ingredients.map(ig => ig.name + ' ' + ig.perUnit + 'mg').join(', ')}</span>` : '';
                return `<div class="ac-item p-2.5 cursor-pointer border-b border-slate-100 flex items-center gap-2 ${i === this.acActiveIndex ? 'active' : ''}"
                    data-type="${r.type}" data-name="${r.name}"
                    onclick="app.selectSearchResult('${r.type}', '${r.name.replace(/'/g, "\\'")}')">
                    ${typeLabel}
                    <span class="font-bold">${r.name}</span>
                    ${ingList}
                </div>`;
            }).join('');
            dropdown.classList.remove('hidden');
        }

        onSearchKeydown(e) {
            const dropdown = document.getElementById('acDropdown');
            const items = dropdown.querySelectorAll('.ac-item');
            if (e.key === 'ArrowDown') { e.preventDefault(); this.acActiveIndex = Math.min(this.acActiveIndex + 1, items.length - 1); this.updateAcHighlight(items); }
            else if (e.key === 'ArrowUp') { e.preventDefault(); this.acActiveIndex = Math.max(this.acActiveIndex - 1, 0); this.updateAcHighlight(items); }
            else if (e.key === 'Enter') {
                e.preventDefault();
                if (this.acActiveIndex >= 0 && items[this.acActiveIndex]) {
                    items[this.acActiveIndex].click();
                } else {
                    this.addDrug();
                }
            }
            else if (e.key === 'Escape') { dropdown.classList.add('hidden'); }
        }

        updateAcHighlight(items) {
            items.forEach((it, i) => it.classList.toggle('active', i === this.acActiveIndex));
            if (items[this.acActiveIndex]) items[this.acActiveIndex].scrollIntoView({ block: 'nearest' });
        }

        selectSearchResult(type, name) {
            document.getElementById('drugSearch').value = name;
            document.getElementById('acDropdown').classList.add('hidden');
            this.selectedProduct = { type, name };

            // Show info
            const infoEl = document.getElementById('selectedDrugInfo');
            if (type === 'product') {
                const prod = DB.products[name];
                infoEl.innerHTML = `<div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
                    <span class="font-bold text-blue-800">${name}</span>
                    <span class="text-blue-600 text-xs ml-2">${prod.category}</span>
                    ${prod.note ? `<span class="text-xs text-slate-500 ml-2">(${prod.note})</span>` : ''}
                    <div class="mt-1 text-xs">
                        å«æœ‰æˆåˆ†: ${prod.ingredients.map(ig => `<span class="font-bold">${ig.name}</span> ${ig.perUnit}mg/å˜ä½`).join(' + ')}
                    </div>
                </div>`;
            } else {
                const ing = DB.ingredients[name];
                infoEl.innerHTML = `<div class="bg-green-50 border border-green-200 rounded-lg p-3">
                    <span class="font-bold text-green-800">${name}</span>
                    <span class="text-green-600 text-xs ml-2">(${ing.en})</span>
                    <div class="mt-1 text-xs">ä¸­æ¯’é‡: ${ing.toxicDose}${ing.unit} | è‡´æ­»é‡æ¦‚ç®—: ${ing.lethalDose}${ing.unit}</div>
                </div>`;
            }
            infoEl.classList.remove('hidden');
        }

        // --- Add Drug ---
        addDrug() {
            const searchVal = document.getElementById('drugSearch').value.trim();
            const amount = parseFloat(document.getElementById('amountInput').value);
            const unit = document.getElementById('unitSelect').value;

            if (!searchVal) return this.showAlert('è–¬å‰¤åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
            if (!amount || amount <= 0) return this.showAlert('æ•°é‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');

            let productName = searchVal;
            let ingredientList = [];

            // Check if it's a known product
            const prod = DB.products[searchVal];
            if (prod) {
                ingredientList = prod.ingredients.map(ig => {
                    let totalMg;
                    if (unit === 'tablets') totalMg = ig.perUnit * amount;
                    else if (unit === 'mg') totalMg = amount; // assume full amount is this ingredient (simplified)
                    else totalMg = amount * (ig.perUnit || 1); // mL â†’ approximate

                    return { name: ig.name, totalMg };
                });
            } else {
                // Check if it's a known ingredient
                const ingInfo = DB.ingredients[searchVal];
                if (ingInfo) {
                    const totalMg = (unit === 'mg') ? amount : amount * 100; // rough estimate for tablets
                    ingredientList = [{ name: searchVal, totalMg }];
                } else {
                    // Unknown drug - add as unknown
                    const totalMg = (unit === 'mg') ? amount : amount * 100;
                    ingredientList = [{ name: searchVal, totalMg }];
                }
            }

            // Calculate severity for each ingredient
            const ingredients = ingredientList.map(ig => {
                const info = DB.ingredients[ig.name] || null;
                const dosePerKg = ig.totalMg / this.patientWeight;
                let severityScore = 0;
                let severityLabel = 'ä¸æ˜';

                if (info) {
                    severityScore = info.toxicDose ? (dosePerKg / info.toxicDose) : 0;
                    severityLabel = this.getSeverityLabel(dosePerKg, info);
                }

                return { name: ig.name, totalMg: ig.totalMg, dosePerKg, severityScore, severityLabel, info };
            });

            // Get max severity for sorting
            const maxSeverity = Math.max(...ingredients.map(ig => ig.severityScore), 0);

            this.ingestedDrugs.push({
                id: Date.now(),
                productName,
                amount,
                unit,
                ingredients,
                maxSeverity
            });

            // Sort by maxSeverity descending
            this.ingestedDrugs.sort((a, b) => b.maxSeverity - a.maxSeverity);

            // Clear inputs
            document.getElementById('drugSearch').value = '';
            document.getElementById('amountInput').value = '';
            document.getElementById('selectedDrugInfo').classList.add('hidden');
            this.selectedProduct = null;

            this.renderAll();
        }

        removeDrug(id) {
            this.ingestedDrugs = this.ingestedDrugs.filter(d => d.id !== id);
            this.renderAll();
        }

        recalcAll() {
            for (const drug of this.ingestedDrugs) {
                for (const ig of drug.ingredients) {
                    ig.dosePerKg = ig.totalMg / this.patientWeight;
                    if (ig.info) {
                        ig.severityScore = ig.info.toxicDose ? (ig.dosePerKg / ig.info.toxicDose) : 0;
                        ig.severityLabel = this.getSeverityLabel(ig.dosePerKg, ig.info);
                    }
                }
                drug.maxSeverity = Math.max(...drug.ingredients.map(ig => ig.severityScore), 0);
            }
            this.ingestedDrugs.sort((a, b) => b.maxSeverity - a.maxSeverity);
        }

        getSeverityLabel(dosePerKg, info) {
            if (!info || !info.severityThresholds) return 'ä¸æ˜';
            const [mild, mod, sev] = info.severityThresholds;
            if (dosePerKg >= sev) return 'è‡´æ­»çš„';
            if (dosePerKg >= mod) return 'é‡ç—‡';
            if (dosePerKg >= mild) return 'ä¸­ç­‰ç—‡';
            if (dosePerKg > 0) return 'è»½ç—‡';
            return 'å¾®é‡';
        }

        getSeverityClass(label) {
            switch(label) {
                case 'è‡´æ­»çš„': return 'sev-critical';
                case 'é‡ç—‡': return 'sev-high';
                case 'ä¸­ç­‰ç—‡': return 'sev-moderate';
                case 'è»½ç—‡': return 'sev-low';
                default: return 'sev-unknown';
            }
        }

        getSeverityBadge(label) {
            const colors = { 'è‡´æ­»çš„': 'bg-red-600 text-white', 'é‡ç—‡': 'bg-orange-500 text-white', 'ä¸­ç­‰ç—‡': 'bg-yellow-400 text-yellow-900', 'è»½ç—‡': 'bg-green-500 text-white', 'å¾®é‡': 'bg-slate-300 text-slate-700', 'ä¸æ˜': 'bg-slate-200 text-slate-600' };
            return `<span class="px-2 py-0.5 rounded-full text-xs font-black ${colors[label] || colors['ä¸æ˜']}">${label}</span>`;
        }

        getVerdictBadge(verdict) {
            const map = {
                'recommended': ['verdict-recommended', 'æ¨å¥¨'],
                'consider': ['verdict-consider', 'è€ƒæ…®'],
                'not_recommended': ['verdict-not-recommended', 'éæ¨å¥¨'],
                'contraindicated': ['verdict-contraindicated', 'ç¦å¿Œ']
            };
            const [cls, text] = map[verdict] || ['verdict-consider', verdict];
            return `<span class="px-2.5 py-1 rounded text-xs font-black ${cls}">${text}</span>`;
        }

        getTimingVerdict(originalVerdict, treatment) {
            // Adjust verdict based on hours elapsed
            if (this.hoursElapsed > 2 && originalVerdict === 'recommended' && treatment === 'charcoal') return 'consider';
            if (this.hoursElapsed > 4 && treatment === 'charcoal') return 'not_recommended';
            if (this.hoursElapsed > 1 && originalVerdict !== 'not_recommended' && treatment === 'lavage') return 'not_recommended';
            return originalVerdict;
        }

        // --- Symptom Check ---
        toggleSymptom(symptom) {
            if (this.checkedSymptoms.has(symptom)) this.checkedSymptoms.delete(symptom);
            else this.checkedSymptoms.add(symptom);
            this.renderSymptomMatch();
        }

        renderSymptomMatch() {
            const resultEl = document.getElementById('symptomMatchResult');
            if (this.checkedSymptoms.size === 0) { resultEl.classList.add('hidden'); return; }

            let matches = [];
            // For each ingredient in ingested drugs, check symptom overlap
            for (const drug of this.ingestedDrugs) {
                for (const ig of drug.ingredients) {
                    if (!ig.info) continue;
                    const drugSymptoms = ig.info.allSymptoms || [];
                    const matched = drugSymptoms.filter(s => this.checkedSymptoms.has(s));
                    if (matched.length > 0) {
                        matches.push({ ingredientName: ig.name, matched, total: drugSymptoms.length, ratio: matched.length / Math.max(this.checkedSymptoms.size, 1) });
                    }
                }
            }
            matches.sort((a, b) => b.ratio - a.ratio);

            if (matches.length === 0) {
                resultEl.innerHTML = `<div class="bg-slate-50 rounded-lg p-4 text-sm text-slate-500">ãƒã‚§ãƒƒã‚¯ã•ã‚ŒãŸç—‡çŠ¶ã¨ä¸€è‡´ã™ã‚‹è–¬å‰¤ã¯ãƒªã‚¹ãƒˆå†…ã«ã‚ã‚Šã¾ã›ã‚“ã€‚</div>`;
            } else {
                resultEl.innerHTML = `
                    <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
                        <h4 class="font-bold text-amber-800 mb-2">ğŸ” ç—‡çŠ¶-è–¬å‰¤ãƒãƒƒãƒãƒ³ã‚°çµæœ</h4>
                        <div class="space-y-2">
                            ${matches.map(m => `
                                <div class="flex items-center gap-3 bg-white rounded p-2 shadow-sm">
                                    <span class="font-bold text-sm">${m.ingredientName}</span>
                                    <span class="text-xs text-slate-500">ä¸€è‡´: ${m.matched.length}/${this.checkedSymptoms.size}</span>
                                    <div class="flex-1 flex flex-wrap gap-1">
                                        ${m.matched.map(s => `<span class="bg-amber-100 text-amber-800 text-xs px-1.5 py-0.5 rounded font-bold">${s}</span>`).join('')}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>`;
            }
            resultEl.classList.remove('hidden');
        }

        // --- Render All ---
        renderAll() {
            this.renderDrugList();
            this.renderSymptomChecklist();
            this.renderTreatmentMatrix();
            this.renderSummary();
        }

        renderDrugList() {
            const container = document.getElementById('drugListContainer');
            if (this.ingestedDrugs.length === 0) {
                container.innerHTML = `<div class="bg-white rounded-2xl border border-dashed border-slate-300 p-10 text-center text-slate-400">
                    <p class="text-4xl mb-2">ğŸ’Š</p>
                    <p>è–¬å‰¤ã‚’å…¥åŠ›ã—ã¦ã€Œãƒªã‚¹ãƒˆã«è¿½åŠ ã€ã—ã¦ãã ã•ã„</p>
                </div>`;
                document.getElementById('symptomSection').classList.add('hidden');
                document.getElementById('treatmentSection').classList.add('hidden');
                document.getElementById('summarySection').classList.add('hidden');
                return;
            }

            document.getElementById('symptomSection').classList.remove('hidden');
            document.getElementById('treatmentSection').classList.remove('hidden');
            document.getElementById('summarySection').classList.remove('hidden');

            container.innerHTML = `<div class="space-y-3">${this.ingestedDrugs.map((drug, idx) => {
                const worstIg = drug.ingredients.reduce((a, b) => a.severityScore >= b.severityScore ? a : b, drug.ingredients[0]);
                const sevClass = this.getSeverityClass(worstIg.severityLabel);

                return `<div class="${sevClass} rounded-xl p-4 shadow-sm fade-in">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="text-xs font-black text-slate-500 bg-white/70 px-2 py-0.5 rounded">#${idx + 1}</span>
                                ${this.getSeverityBadge(worstIg.severityLabel)}
                                <span class="text-xs text-slate-500">${drug.amount}${drug.unit === 'tablets' ? 'éŒ ' : drug.unit} æ‘‚å–</span>
                            </div>
                            <h3 class="font-black text-lg">${drug.productName}</h3>
                            <div class="mt-2 space-y-1.5">
                                ${drug.ingredients.map(ig => `
                                    <div class="text-sm flex items-center gap-2 flex-wrap">
                                        <span class="font-bold">${ig.name}</span>
                                        ${ig.info ? `<span class="text-xs text-slate-500">(${ig.info.en})</span>` : ''}
                                        <span class="text-xs bg-white/80 px-1.5 py-0.5 rounded">
                                            ${ig.totalMg.toFixed(1)}mg = <span class="font-black">${ig.dosePerKg.toFixed(2)} mg/kg</span>
                                        </span>
                                        ${ig.info ? `<span class="text-xs text-slate-500">ä¸­æ¯’é‡: ${ig.info.toxicDose}${ig.info.unit}</span>` : ''}
                                        ${this.getSeverityBadge(ig.severityLabel)}
                                    </div>
                                    ${ig.info ? `<div class="text-xs text-slate-600 ml-4">
                                        äºˆæ¸¬ç—‡çŠ¶:
                                        ${ig.info.symptoms.early.map(s => `<span class="inline-block ${this.checkedSymptoms.has(s) ? 'bg-amber-200 font-bold' : 'bg-slate-100'} rounded px-1 mr-0.5">${s}</span>`).join('')}
                                        ${ig.severityScore >= 0.5 ? ig.info.symptoms.delayed.map(s => `<span class="inline-block ${this.checkedSymptoms.has(s) ? 'bg-amber-200 font-bold' : 'bg-red-50'} text-red-700 rounded px-1 mr-0.5">${s}</span>`).join('') : ''}
                                        ${ig.severityScore >= 1.0 ? ig.info.symptoms.severe.map(s => `<span class="inline-block ${this.checkedSymptoms.has(s) ? 'bg-amber-200 font-bold' : 'bg-red-100'} text-red-800 font-bold rounded px-1 mr-0.5">${s}</span>`).join('') : ''}
                                    </div>` : '<div class="text-xs text-red-500 ml-4">âš  ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç™»éŒ²ã•ã‚Œã¦ã„ãªã„æˆåˆ†ã§ã™</div>'}
                                `).join('')}
                            </div>
                        </div>
                        <div class="text-right ml-4 flex flex-col items-end gap-2">
                            <div>
                                <div class="text-3xl font-black">${worstIg.dosePerKg.toFixed(1)}</div>
                                <div class="text-xs text-slate-500">mg/kg</div>
                                ${worstIg.info && worstIg.info.toxicDose ? `<div class="text-xs mt-1"><span class="font-bold">${(worstIg.severityScore * 100).toFixed(0)}%</span> of ä¸­æ¯’é‡</div>` : ''}
                            </div>
                            <button onclick="app.removeDrug(${drug.id})" class="no-print text-xs text-red-400 hover:text-red-600 transition">âœ• å‰Šé™¤</button>
                        </div>
                    </div>
                </div>`;
            }).join('')}</div>`;
        }

        renderSymptomChecklist() {
            const el = document.getElementById('symptomChecklist');
            let html = '';
            for (const [category, symptoms] of Object.entries(DB.symptomCategories)) {
                html += `<div class="col-span-full mt-2 mb-1"><span class="text-xs font-black text-slate-500 uppercase tracking-wider">${category}</span></div>`;
                for (const symptom of symptoms) {
                    // Check if this symptom is expected from any ingested drug
                    let isExpected = false;
                    for (const drug of this.ingestedDrugs) {
                        for (const ig of drug.ingredients) {
                            if (ig.info && ig.info.allSymptoms && ig.info.allSymptoms.includes(symptom)) {
                                isExpected = true; break;
                            }
                        }
                        if (isExpected) break;
                    }
                    const checked = this.checkedSymptoms.has(symptom);
                    const expectedClass = isExpected ? 'border-amber-300 bg-amber-50' : 'border-slate-200';
                    const checkedClass = checked ? 'bg-blue-100 border-blue-400 ring-2 ring-blue-300' : '';

                    html += `<label class="flex items-center gap-1.5 p-1.5 rounded-lg border cursor-pointer transition hover:bg-slate-50 text-sm ${expectedClass} ${checkedClass}"
                        onclick="app.toggleSymptom('${symptom}')">
                        <input type="checkbox" ${checked ? 'checked' : ''} class="pointer-events-none rounded" onchange="event.stopPropagation()">
                        <span>${symptom}</span>
                        ${isExpected ? '<span class="text-amber-500 text-xs">â˜…</span>' : ''}
                    </label>`;
                }
            }
            el.innerHTML = html;
            this.renderSymptomMatch();
        }

        renderTreatmentMatrix() {
            const container = document.getElementById('treatmentContainer');
            if (this.ingestedDrugs.length === 0) { container.innerHTML = ''; return; }

            // Collect all unique ingredients
            const seen = new Set();
            const allIngredients = [];
            for (const drug of this.ingestedDrugs) {
                for (const ig of drug.ingredients) {
                    if (ig.info && !seen.has(ig.name)) {
                        seen.add(ig.name);
                        allIngredients.push(ig);
                    }
                }
            }

            container.innerHTML = allIngredients.map(ig => {
                const t = ig.info.treatment;
                const hours = this.hoursElapsed;

                // Time-adjusted verdicts
                const lavageVerdict = this.getTimingVerdict(t.lavage.verdict, 'lavage');
                const charcoalVerdict = t.charcoal.multiDose ? t.charcoal.verdict : this.getTimingVerdict(t.charcoal.verdict, 'charcoal');

                return `<div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 fade-in">
                    <div class="flex items-center gap-3 mb-4">
                        <h3 class="font-black text-xl">${ig.name}</h3>
                        <span class="text-sm text-slate-500">(${ig.info.en})</span>
                        ${this.getSeverityBadge(ig.severityLabel)}
                        <span class="text-xs text-slate-400 ml-auto">æ‘‚å–é‡: ${ig.dosePerKg.toFixed(2)} mg/kg | çµŒé: ${hours}æ™‚é–“</span>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- æ‹®æŠ—è–¬ -->
                        <div class="border rounded-xl p-4 ${t.antidote.name === 'ãªã—' ? 'bg-slate-50' : 'bg-emerald-50 border-emerald-200'}">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-lg">ğŸ’‰</span>
                                <span class="font-bold">æ‹®æŠ—è–¬</span>
                                ${t.antidote.name !== 'ãªã—' ? this.getVerdictBadge('recommended') : this.getVerdictBadge('not_recommended')}
                            </div>
                            <div class="text-sm font-bold text-emerald-800">${t.antidote.name}</div>
                            <div class="text-xs text-slate-600 mt-1">${t.antidote.indication}</div>
                            ${t.antidote.dosing ? `<div class="text-xs font-bold text-emerald-700 mt-1 bg-emerald-100 inline-block px-2 py-0.5 rounded">ç”¨é‡: ${t.antidote.dosing}</div>` : ''}
                        </div>

                        <!-- èƒƒæ´—æµ„ -->
                        <div class="border rounded-xl p-4 bg-white">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-lg">ğŸ«—</span>
                                <span class="font-bold">èƒƒæ´—æµ„</span>
                                ${this.getVerdictBadge(lavageVerdict)}
                                ${hours > 1 ? '<span class="text-xs text-red-500 font-bold">â° 1æ™‚é–“è¶…é</span>' : ''}
                            </div>
                            <div class="text-xs text-slate-600">${t.lavage.note}</div>
                            ${hours > 1 ? `<div class="text-xs text-red-500 mt-1">â€» æ‘‚å–ã‹ã‚‰${hours}æ™‚é–“çµŒé â€” èƒƒæ´—æµ„ã®æœ‰åŠ¹æ€§ã¯å¤§å¹…ã«ä½ä¸‹</div>` : ''}
                        </div>

                        <!-- æ´»æ€§ç‚­ -->
                        <div class="border rounded-xl p-4 ${t.charcoal.verdict === 'contraindicated' ? 'bg-indigo-50 border-indigo-300' : 'bg-white'}">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-lg">âš«</span>
                                <span class="font-bold">æ´»æ€§ç‚­</span>
                                ${this.getVerdictBadge(charcoalVerdict)}
                                ${t.charcoal.multiDose ? '<span class="text-xs bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-bold">MDAC</span>' : ''}
                            </div>
                            <div class="text-xs text-slate-600">${t.charcoal.note}</div>
                            ${!t.charcoal.multiDose && hours > 2 ? `<div class="text-xs text-amber-600 mt-1">â€» ${hours}æ™‚é–“çµŒé â€” å˜å›æŠ•ä¸ã®æœ‰åŠ¹æ€§ã¯ä½ä¸‹</div>` : ''}
                            ${t.charcoal.multiDose ? `<div class="text-xs text-purple-600 mt-1 font-bold">åå¾©æŠ•ä¸(MDAC)é©å¿œ: æ™‚é–“çµŒéã«é–¢ã‚ã‚‰ãšæœ‰åŠ¹</div>` : ''}
                        </div>

                        <!-- è¡€æ¶²æµ„åŒ– -->
                        <div class="border rounded-xl p-4 ${t.dialysis.verdict === 'recommended' ? 'bg-purple-50 border-purple-200' : 'bg-white'}">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-lg">ğŸ©¸</span>
                                <span class="font-bold">è¡€æ¶²æµ„åŒ–</span>
                                ${this.getVerdictBadge(t.dialysis.verdict)}
                            </div>
                            <div class="text-xs text-slate-600">${t.dialysis.note}</div>
                        </div>
                    </div>

                    <!-- ãã®ä»–ã®æ²»ç™‚ -->
                    ${t.other && t.other.length > 0 ? `
                    <div class="mt-4 bg-slate-50 rounded-xl p-4">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="text-lg">ğŸ“‹</span>
                            <span class="font-bold text-sm">ãã®ä»–ã®æ²»ç™‚ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</span>
                        </div>
                        <ul class="text-xs text-slate-700 space-y-1">
                            ${t.other.map(item => `<li class="flex items-start gap-1.5"><span class="text-slate-400 mt-0.5">â–¸</span>${item}</li>`).join('')}
                        </ul>
                    </div>` : ''}
                </div>`;
            }).join('');
        }

        renderSummary() {
            const container = document.getElementById('summaryContainer');
            if (this.ingestedDrugs.length === 0) { container.innerHTML = ''; return; }

            // Determine overall severity
            const allIngredients = [];
            for (const drug of this.ingestedDrugs) {
                for (const ig of drug.ingredients) {
                    if (ig.info) allIngredients.push(ig);
                }
            }

            const maxScore = Math.max(...allIngredients.map(ig => ig.severityScore), 0);
            const worstLabel = maxScore >= 2 ? 'è‡´æ­»çš„' : maxScore >= 1 ? 'é‡ç—‡' : maxScore >= 0.5 ? 'ä¸­ç­‰ç—‡' : 'è»½ç—‡';

            // Collect unique antidotes
            const antidotes = [...new Set(allIngredients.filter(ig => ig.info.treatment.antidote.name !== 'ãªã—').map(ig => `${ig.info.treatment.antidote.name} (for ${ig.name})`))];

            // Charcoal recommendation
            const charcoalNeeded = allIngredients.some(ig => {
                const v = ig.info.treatment.charcoal.verdict;
                return v === 'recommended' || v === 'consider';
            });
            const mdacNeeded = allIngredients.some(ig => ig.info.treatment.charcoal.multiDose);

            // Dialysis
            const dialysisNeeded = allIngredients.some(ig => ig.info.treatment.dialysis.verdict === 'recommended');
            const dialysisConsider = allIngredients.some(ig => ig.info.treatment.dialysis.verdict === 'consider');

            // Charcoal contraindicated
            const charcoalContraindicated = allIngredients.some(ig => ig.info.treatment.charcoal.verdict === 'contraindicated');

            container.innerHTML = `
                <div class="mb-4">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="text-2xl font-black">ç·åˆé‡ç—‡åº¦:</span>
                        ${this.getSeverityBadge(worstLabel)}
                        <span class="text-sm text-slate-500">(æœ€ã‚‚é‡ç—‡ãªæˆåˆ†ã®é‡ç—‡åº¦)</span>
                    </div>
                    <div class="text-sm text-slate-600">æ‘‚å–è–¬å‰¤æ•°: ${this.ingestedDrugs.length}å“ç›® / æˆåˆ†æ•°: ${allIngredients.length}ç¨®é¡ / çµŒéæ™‚é–“: ${this.hoursElapsed}æ™‚é–“</div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                    <div class="bg-slate-50 rounded-xl p-4">
                        <h4 class="font-bold mb-2">ğŸš¨ ç·Šæ€¥ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h4>
                        <ul class="text-sm space-y-1.5">
                            ${maxScore >= 1 ? '<li class="text-red-700 font-bold">â†’ ICUç®¡ç†ã‚’æ¤œè¨</li>' : ''}
                            ${antidotes.length > 0 ? antidotes.map(a => `<li class="text-emerald-700 font-bold">â†’ æ‹®æŠ—è–¬: ${a}</li>`).join('') : '<li class="text-slate-500">æ‹®æŠ—è–¬: é©å¿œãªã—</li>'}
                            ${this.hoursElapsed <= 1 && allIngredients.some(ig => ig.info.treatment.lavage.verdict !== 'not_recommended') ? '<li class="text-blue-700 font-bold">â†’ èƒƒæ´—æµ„ã‚’æ¤œè¨ï¼ˆ1æ™‚é–“ä»¥å†…ï¼‰</li>' : '<li class="text-slate-400">èƒƒæ´—æµ„: æ™‚é–“çµŒéã«ã‚ˆã‚Šéæ¨å¥¨</li>'}
                            ${charcoalContraindicated ? '<li class="text-indigo-700 font-bold">âš  æ´»æ€§ç‚­ç¦å¿Œã®æˆåˆ†ã‚ã‚Šï¼ˆãƒªãƒã‚¦ãƒ ç­‰ï¼‰</li>' : ''}
                            ${charcoalNeeded && !charcoalContraindicated ? `<li class="text-green-700 font-bold">â†’ æ´»æ€§ç‚­æŠ•ä¸ã‚’æ¨å¥¨${mdacNeeded ? 'ï¼ˆåå¾©æŠ•ä¸MDACé©å¿œã‚ã‚Šï¼‰' : ''}</li>` : ''}
                            ${dialysisNeeded ? '<li class="text-purple-700 font-bold">â†’ è¡€æ¶²æµ„åŒ–ã‚’å¼·ãæ¤œè¨</li>' : dialysisConsider ? '<li class="text-purple-600">â†’ é‡ç—‡æ™‚ã¯è¡€æ¶²æµ„åŒ–ã‚’æ¤œè¨</li>' : '<li class="text-slate-400">è¡€æ¶²æµ„åŒ–: é©å¿œä½ã„</li>'}
                        </ul>
                    </div>
                    <div class="bg-slate-50 rounded-xl p-4">
                        <h4 class="font-bold mb-2">ğŸ“Š ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°é …ç›®</h4>
                        <ul class="text-sm space-y-1">
                            <li>â–¸ ãƒã‚¤ã‚¿ãƒ«ã‚µã‚¤ãƒ³ï¼ˆæ„è­˜, å‘¼å¸, å¾ªç’°ï¼‰</li>
                            <li>â–¸ å¿ƒé›»å›³ï¼ˆ12èª˜å° + ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼‰</li>
                            <li>â–¸ è¡€æ¶²ã‚¬ã‚¹, é›»è§£è³ª</li>
                            <li>â–¸ è¡€ç®—, è‚æ©Ÿèƒ½, è…æ©Ÿèƒ½, å‡å›º</li>
                            ${allIngredients.some(ig => ['ã‚¢ã‚»ãƒˆã‚¢ãƒŸãƒãƒ•ã‚§ãƒ³','ã‚¢ã‚¹ãƒ”ãƒªãƒ³','ãƒãƒ«ãƒ—ãƒ­é…¸','ã‚«ãƒ«ãƒãƒã‚¼ãƒ”ãƒ³','ãƒ•ã‚§ãƒ‹ãƒˆã‚¤ãƒ³','ç‚­é…¸ãƒªãƒã‚¦ãƒ ','ãƒ†ã‚ªãƒ•ã‚£ãƒªãƒ³','ã‚¸ã‚´ã‚­ã‚·ãƒ³'].includes(ig.name)) ? '<li class="font-bold text-blue-700">â–¸ è¡€ä¸­è–¬ç‰©æ¿ƒåº¦æ¸¬å®š</li>' : ''}
                            ${allIngredients.some(ig => ig.info.allSymptoms && ig.info.allSymptoms.includes('ä½è¡€ç³–')) ? '<li class="font-bold text-amber-700">â–¸ è¡€ç³–ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆé »å›ï¼‰</li>' : ''}
                        </ul>
                    </div>
                </div>

                <div class="mt-4 bg-red-50 border border-red-200 rounded-xl p-4 text-sm text-red-800">
                    <strong>âš  æ³¨æ„:</strong> æœ¬ãƒ„ãƒ¼ãƒ«ã®æƒ…å ±ã¯ä¸€èˆ¬çš„ãªä¸­æ¯’è¨ºç™‚ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«åŸºã¥ãå‚è€ƒæƒ…å ±ã§ã™ã€‚
                    å€‹ã€…ã®ç—‡ä¾‹ã«ãŠã‘ã‚‹æœ€çµ‚çš„ãªæ²»ç™‚åˆ¤æ–­ã¯ã€æ‚£è€…ã®å…¨èº«çŠ¶æ…‹ãƒ»åˆä½µç—‡ãƒ»è¤‡åˆä¸­æ¯’ã®å¯èƒ½æ€§ã‚’è€ƒæ…®ã—ã€è‡¨åºŠåŒ»ã®åˆ¤æ–­ã«ã‚ˆã‚Šè¡Œã£ã¦ãã ã•ã„ã€‚
                    å¿…è¦ã«å¿œã˜ã¦ä¸­æ¯’æƒ…å ±ã‚»ãƒ³ã‚¿ãƒ¼ï¼ˆã¤ãã°: 029-852-9999 / å¤§é˜ª: 072-727-2499ï¼‰ã«ã”ç›¸è«‡ãã ã•ã„ã€‚
                </div>
            `;
        }

        // --- Utility ---
        showAlert(msg) {
            // Create a temporary alert
            const el = document.createElement('div');
            el.className = 'fixed top-20 right-4 bg-red-500 text-white px-6 py-3 rounded-xl shadow-2xl z-50 font-bold text-sm fade-in';
            el.textContent = msg;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 3000);
        }

        resetAll() {
            if (!confirm('å…¨ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ')) return;
            this.ingestedDrugs = [];
            this.checkedSymptoms.clear();
            this.renderAll();
        }
    }

    // --- Initialize ---
    const app = new ToxicNavi();

    // Close dropdown on outside click
    document.addEventListener('click', (e) => {
        if (!e.target.closest('#drugSearch') && !e.target.closest('#acDropdown')) {
            document.getElementById('acDropdown').classList.add('hidden');
        }
    });
    </script>
</body>
</html>
